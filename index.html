<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Curtain Sales Academy</title>
</head>
<body>
<div id="root"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
<script type="text/babel">
const { useState, useEffect, useCallback, useMemo } = React;

let USERS_DATA = [
  { id:1, name:"à¸ªà¸¡à¸Šà¸²à¸¢ à¹ƒà¸ˆà¸”à¸µ", email:"trainee@demo.com", pass:"1234", role:"trainee", team:"à¸—à¸µà¸¡ A", avatar:"ðŸ§‘â€ðŸ’¼" },
  { id:2, name:"à¸§à¸´à¸ à¸² à¹à¸ªà¸‡à¸—à¸­à¸‡", email:"sales@demo.com", pass:"1234", role:"sales", team:"à¸—à¸µà¸¡ A", avatar:"ðŸ‘©â€ðŸ’¼" },
  { id:3, name:"à¸˜à¸™à¸² à¸šà¸¸à¸à¸¡à¸µ", email:"manager@demo.com", pass:"1234", role:"manager", team:"à¸—à¸µà¸¡ A", avatar:"ðŸ‘¨â€ðŸ’»" },
  { id:4, name:"Admin", email:"admin@demo.com", pass:"1234", role:"admin", team:"-", avatar:"âš™ï¸" },
];


let RES_DEFAULT = [
  {id:1, icon:"ðŸ“‚", name:"à¹à¸„à¸•à¸•à¸²à¸¥à¹‡à¸­à¸à¸œà¹‰à¸²à¸¡à¹ˆà¸²à¸™ 2026", type:"PDF", url:"", desc:"à¹à¸„à¸•à¸•à¸²à¸¥à¹‡à¸­à¸à¸£à¸§à¸¡à¸œà¹‰à¸²à¸¡à¹ˆà¸²à¸™à¸—à¸¸à¸à¸£à¸¸à¹ˆà¸™ à¸žà¸£à¹‰à¸­à¸¡à¸£à¸¹à¸›à¹à¸¥à¸°à¸£à¸²à¸„à¸²"},
  {id:2, icon:"ðŸ“¸", name:"à¸£à¸¹à¸› Before-After à¸œà¸¥à¸‡à¸²à¸™", type:"ZIP", url:"", desc:"à¸£à¸¹à¸›à¸œà¸¥à¸‡à¸²à¸™à¸ˆà¸£à¸´à¸‡à¸à¹ˆà¸­à¸™-à¸«à¸¥à¸±à¸‡à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ à¸ªà¸³à¸«à¸£à¸±à¸šà¹‚à¸Šà¸§à¹Œà¸¥à¸¹à¸à¸„à¹‰à¸²"},
  {id:3, icon:"ðŸ“‹", name:"Template à¹ƒà¸šà¹€à¸ªà¸™à¸­à¸£à¸²à¸„à¸²", type:"XLSX", url:"", desc:"à¹à¸šà¸šà¸Ÿà¸­à¸£à¹Œà¸¡à¹ƒà¸šà¹€à¸ªà¸™à¸­à¸£à¸²à¸„à¸²à¸¡à¸²à¸•à¸£à¸à¸²à¸™"},
  {id:4, icon:"ðŸ“", name:"à¹à¸šà¸šà¸Ÿà¸­à¸£à¹Œà¸¡à¸§à¸±à¸”à¸«à¸™à¹‰à¸²à¸‡à¸²à¸™", type:"PDF", url:"", desc:"à¸Ÿà¸­à¸£à¹Œà¸¡à¸ˆà¸”à¸šà¸±à¸™à¸—à¸¶à¸à¸à¸²à¸£à¸§à¸±à¸”à¸«à¸™à¹‰à¸²à¸‡à¸²à¸™"},
  {id:5, icon:"ðŸŽ¨", name:"Swatch Book Digital", type:"PDF", url:"", desc:"à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸œà¹‰à¸²à¹à¸šà¸šà¸”à¸´à¸ˆà¸´à¸—à¸±à¸¥"},
  {id:6, icon:"ðŸ“Š", name:"à¸•à¸²à¸£à¸²à¸‡à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸šà¸œà¹‰à¸²", type:"PDF", url:"", desc:"à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸šà¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´à¸œà¹‰à¸²à¸—à¸¸à¸à¸›à¸£à¸°à¹€à¸ à¸—"},
  {id:7, icon:"ðŸ·ï¸", name:"Price List Q1/2026", type:"XLSX", url:"", desc:"à¸£à¸²à¸„à¸²à¸ªà¸´à¸™à¸„à¹‰à¸²à¸­à¸±à¸žà¹€à¸”à¸—à¸¥à¹ˆà¸²à¸ªà¸¸à¸”"},
  {id:8, icon:"ðŸ“", name:"à¸ªà¸±à¸à¸à¸²à¸£à¸±à¸šà¸›à¸£à¸°à¸à¸±à¸™à¸ªà¸´à¸™à¸„à¹‰à¸²", type:"DOCX", url:"", desc:"à¹€à¸­à¸à¸ªà¸²à¸£à¸£à¸±à¸šà¸›à¸£à¸°à¸à¸±à¸™à¸ªà¸³à¸«à¸£à¸±à¸šà¸¥à¸¹à¸à¸„à¹‰à¸²"},
];

let LEVELS_DATA = [
  {
    id:1, title:"à¸žà¸·à¹‰à¸™à¸à¸²à¸™à¸œà¹‰à¸²à¸¡à¹ˆà¸²à¸™", subtitle:"Foundation", icon:"ðŸŒ±", color:"#4CAF50", required:true,
    lessons:[
      { id:"1-1", title:"à¸›à¸£à¸°à¹€à¸ à¸—à¸œà¹‰à¸²à¸¡à¹ˆà¸²à¸™", content:"à¸œà¹‰à¸²à¸¡à¹ˆà¸²à¸™à¹à¸šà¹ˆà¸‡à¹€à¸›à¹‡à¸™à¸«à¸¥à¸²à¸¢à¸›à¸£à¸°à¹€à¸ à¸—à¸«à¸¥à¸±à¸:\n\nâ€¢ Sheer / Voile â€” à¸œà¹‰à¸²à¹‚à¸›à¸£à¹ˆà¸‡ à¸à¸£à¸­à¸‡à¹à¸ªà¸‡ 10-20% à¹€à¸«à¸¡à¸²à¸°à¸«à¹‰à¸­à¸‡à¸™à¸±à¹ˆà¸‡à¹€à¸¥à¹ˆà¸™\nâ€¢ Dimout â€” à¸¥à¸”à¹à¸ªà¸‡ 70-90% à¹ƒà¸Šà¹‰à¹„à¸”à¹‰à¸—à¸¸à¸à¸«à¹‰à¸­à¸‡\nâ€¢ Blackout â€” à¸à¸±à¸™à¹à¸ªà¸‡ 95-100% à¹€à¸«à¸¡à¸²à¸°à¸«à¹‰à¸­à¸‡à¸™à¸­à¸™\nâ€¢ Sunscreen â€” à¸à¸£à¸­à¸‡ UV à¸¢à¸±à¸‡à¹€à¸«à¹‡à¸™à¸§à¸´à¸§ à¸„à¸­à¸™à¹‚à¸”à¸Šà¸±à¹‰à¸™à¸ªà¸¹à¸‡\nâ€¢ à¸œà¹‰à¸²à¸˜à¸£à¸£à¸¡à¸Šà¸²à¸•à¸´ â€” à¸¥à¸´à¸™à¸´à¸™ à¸à¹‰à¸²à¸¢ à¹„à¸«à¸¡ organic\nâ€¢ à¸à¸³à¸¡à¸°à¸«à¸¢à¸µà¹ˆ â€” à¸«à¸£à¸¹à¸«à¸£à¸² à¸à¸±à¸™à¹à¸ªà¸‡à¸”à¸µ à¹‚à¸£à¸‡à¹à¸£à¸¡" },
      { id:"1-2", title:"à¸„à¹ˆà¸² % à¸à¸±à¸™à¹à¸ªà¸‡à¸„à¸·à¸­à¸­à¸°à¹„à¸£", content:"à¸„à¹ˆà¸²à¹€à¸›à¸­à¸£à¹Œà¹€à¸‹à¹‡à¸™à¸•à¹Œà¸à¸±à¸™à¹à¸ªà¸‡:\n\nâ€¢ 10-20% = à¹‚à¸›à¸£à¹ˆà¸‡ (Sheer)\nâ€¢ 40-60% = à¸à¸¶à¹ˆà¸‡à¸—à¸¶à¸š (à¸¥à¸´à¸™à¸´à¸™)\nâ€¢ 70-90% = à¸¥à¸”à¹à¸ªà¸‡à¸¡à¸²à¸ (Dimout)\nâ€¢ 95-100% = à¸¡à¸·à¸”à¸ªà¸™à¸´à¸— (Blackout)\n\nà¹€à¸„à¸¥à¹‡à¸”à¸¥à¸±à¸š: à¸–à¸²à¸¡à¸¥à¸¹à¸à¸„à¹‰à¸²à¸§à¹ˆà¸²à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸«à¹‰à¸­à¸‡à¸¡à¸·à¸”à¹à¸„à¹ˆà¹„à¸«à¸™" },
      { id:"1-3", title:"à¸œà¹‰à¸²à¹€à¸«à¸¡à¸²à¸°à¸à¸±à¸šà¸šà¹‰à¸²à¸™/à¸„à¸­à¸™à¹‚à¸”", content:"à¸šà¹‰à¸²à¸™à¹€à¸”à¸µà¹ˆà¸¢à¸§:\nâ€¢ à¸«à¹‰à¸­à¸‡à¸™à¸­à¸™ â†’ Blackout + Sheer 2 à¸Šà¸±à¹‰à¸™\nâ€¢ à¸«à¹‰à¸­à¸‡à¸™à¸±à¹ˆà¸‡à¹€à¸¥à¹ˆà¸™ â†’ Dimout / à¸¡à¹ˆà¸²à¸™à¸¥à¸­à¸™\n\nà¸„à¸­à¸™à¹‚à¸”:\nâ€¢ à¸Šà¸±à¹‰à¸™à¸ªà¸¹à¸‡ â†’ Sunscreen / à¸¡à¹ˆà¸²à¸™à¸¡à¹‰à¸§à¸™\nâ€¢ à¸«à¹‰à¸­à¸‡à¸™à¸­à¸™ â†’ Blackout à¸¡à¹ˆà¸²à¸™à¸¡à¹‰à¸§à¸™\n\nà¸­à¸­à¸Ÿà¸Ÿà¸´à¸¨:\nâ€¢ à¸¡à¹ˆà¸²à¸™à¸¡à¹‰à¸§à¸™ Sunscreen + à¸£à¸µà¹‚à¸¡à¸—" },
      { id:"1-4", title:"à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸£à¸²à¸‡à¸¡à¹ˆà¸²à¸™", content:"à¸£à¸°à¸šà¸šà¸£à¸²à¸‡:\nâ€¢ à¸­à¸¥à¸¹à¸¡à¸´à¹€à¸™à¸µà¸¢à¸¡ â€” à¸¢à¸­à¸”à¸™à¸´à¸¢à¸¡ à¹€à¸šà¸² à¸—à¸™à¸—à¸²à¸™\nâ€¢ à¸ªà¹à¸•à¸™à¹€à¸¥à¸ª â€” à¹à¸‚à¹‡à¸‡à¹à¸£à¸‡ à¹€à¸«à¸¡à¸²à¸°à¸œà¹‰à¸²à¸«à¸™à¸±à¸\nâ€¢ à¹„à¸Ÿà¸Ÿà¹‰à¸² (Motorized) â€” à¸ªà¸±à¹ˆà¸‡à¸£à¸µà¹‚à¸¡à¸—/à¸¡à¸·à¸­à¸–à¸·à¸­\nâ€¢ à¸—à¹ˆà¸­à¸¡à¹ˆà¸²à¸™ (Rod) â€” à¸•à¸à¹à¸•à¹ˆà¸‡ à¸§à¸´à¸™à¹€à¸—à¸ˆ\n\nà¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹€à¸ªà¸£à¸´à¸¡:\nâ€¢ à¸•à¸°à¸‚à¸­ (Hooks), à¸«à¹ˆà¸§à¸‡ (Rings)\nâ€¢ à¹€à¸‚à¹‡à¸¡à¸‚à¸±à¸”à¸£à¸±à¸” (Tiebacks)\nâ€¢ à¸à¸¥à¹ˆà¸­à¸‡ Pelmet/Valance" },
      { id:"1-5", title:"à¸„à¸³à¸¨à¸±à¸žà¸—à¹Œà¸ªà¸³à¸„à¸±à¸", content:"à¸„à¸³à¸¨à¸±à¸žà¸—à¹Œà¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸£à¸¹à¹‰:\n\nâ€¢ Fullness Ratio â€” à¸­à¸±à¸•à¸£à¸²à¸ˆà¸µà¸š à¹€à¸Šà¹ˆà¸™ x2\nâ€¢ GSM â€” à¸™à¹‰à¸³à¸«à¸™à¸±à¸à¸œà¹‰à¸²à¸•à¹ˆà¸­à¸•à¸£.à¸¡.\nâ€¢ Drop â€” à¸„à¸§à¸²à¸¡à¸¢à¸²à¸§à¸ˆà¸²à¸à¸£à¸²à¸‡-à¸Šà¸²à¸¢à¸¥à¹ˆà¸²à¸‡\nâ€¢ Stack-back â€” à¸žà¸·à¹‰à¸™à¸—à¸µà¹ˆà¸œà¹‰à¸²à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸›à¸´à¸”\nâ€¢ Leading Edge â€” à¸‚à¸­à¸šà¸œà¹‰à¸²à¸à¸¥à¸²à¸‡\nâ€¢ Return â€” à¸ªà¹ˆà¸§à¸™à¸žà¸±à¸šà¸à¸¥à¸±à¸šà¸œà¸™à¸±à¸‡\nâ€¢ Heading â€” à¸ªà¹ˆà¸§à¸™à¸šà¸™à¸œà¹‰à¸²à¸¡à¹ˆà¸²à¸™\nâ€¢ Hem â€” à¸Šà¸²à¸¢à¸¥à¹ˆà¸²à¸‡" },
    ],
    quiz:[
      { q:"à¸œà¹‰à¸² Blackout à¸à¸±à¸™à¹à¸ªà¸‡à¹„à¸”à¹‰à¸à¸µà¹ˆ %?", opts:["10-20%","40-60%","70-90%","95-100%"], ans:3 },
      { q:"à¸œà¹‰à¸²à¹ƒà¸”à¹€à¸«à¸¡à¸²à¸°à¸„à¸­à¸™à¹‚à¸”à¸Šà¸±à¹‰à¸™à¸ªà¸¹à¸‡?", opts:["à¸à¸³à¸¡à¸°à¸«à¸¢à¸µà¹ˆ","Sunscreen","Blackout","à¸¥à¸´à¸™à¸´à¸™"], ans:1 },
      { q:"Fullness x2 à¸«à¸¡à¸²à¸¢à¸–à¸¶à¸‡?", opts:["à¹ƒà¸Šà¹‰à¸œà¹‰à¸² 2 à¸Šà¸±à¹‰à¸™","à¸œà¹‰à¸²à¸à¸§à¹‰à¸²à¸‡ 2 à¹€à¸—à¹ˆà¸²à¸«à¸™à¹‰à¸²à¸•à¹ˆà¸²à¸‡","à¸£à¸²à¸„à¸² 2 à¹€à¸—à¹ˆà¸²","à¸à¸±à¸™à¹à¸ªà¸‡ 2 à¹€à¸—à¹ˆà¸²"], ans:1 },
      { q:"à¸£à¸²à¸‡à¹ƒà¸”à¹€à¸«à¸¡à¸²à¸°à¸œà¹‰à¸²à¸«à¸™à¸±à¸?", opts:["à¸­à¸¥à¸¹à¸¡à¸´à¹€à¸™à¸µà¸¢à¸¡","à¸—à¹ˆà¸­à¸¡à¹ˆà¸²à¸™","à¸ªà¹à¸•à¸™à¹€à¸¥à¸ª","à¸žà¸¥à¸²à¸ªà¸•à¸´à¸"], ans:2 },
      { q:"GSM à¸„à¸·à¸­à¸­à¸°à¹„à¸£?", opts:["à¸£à¸²à¸„à¸²/à¹€à¸¡à¸•à¸£","à¸™à¹‰à¸³à¸«à¸™à¸±à¸à¸œà¹‰à¸²/à¸•à¸£.à¸¡.","à¸„à¹ˆà¸²à¸à¸±à¸™à¹à¸ªà¸‡","à¸‚à¸™à¸²à¸”à¸£à¸²à¸‡"], ans:1 },
      { q:"à¸«à¹‰à¸­à¸‡à¸™à¸­à¸™à¸„à¸§à¸£à¹ƒà¸Šà¹‰à¸œà¹‰à¸²à¹ƒà¸”?", opts:["Sheer","Sunscreen","Blackout","à¸¥à¸´à¸™à¸´à¸™"], ans:2 },
      { q:"Stack-back à¸„à¸·à¸­?", opts:["à¸Šà¸²à¸¢à¸¥à¹ˆà¸²à¸‡","à¸žà¸·à¹‰à¸™à¸—à¸µà¹ˆà¸œà¹‰à¸²à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸›à¸´à¸”","à¸ªà¹ˆà¸§à¸™à¸šà¸™","à¹€à¸‚à¹‡à¸¡à¸‚à¸±à¸”à¸£à¸±à¸”"], ans:1 },
      { q:"Sheer à¸à¸£à¸­à¸‡à¹à¸ªà¸‡à¸à¸µà¹ˆ %?", opts:["10-20%","50-60%","70-80%","90-100%"], ans:0 },
      { q:"à¸¡à¹ˆà¸²à¸™à¹„à¸Ÿà¸Ÿà¹‰à¸²à¸ªà¸±à¹ˆà¸‡à¸‡à¸²à¸™à¸”à¹‰à¸§à¸¢?", opts:["à¸£à¸µà¹‚à¸¡à¸—à¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸”à¸µà¸¢à¸§","à¸£à¸µà¹‚à¸¡à¸—+à¸¡à¸·à¸­à¸–à¸·à¸­+à¹€à¸ªà¸µà¸¢à¸‡","à¸”à¸¶à¸‡à¹€à¸Šà¸·à¸­à¸","à¸à¸”à¸›à¸¸à¹ˆà¸¡à¸œà¸™à¸±à¸‡"], ans:1 },
      { q:"Dimout à¸à¸±à¸™à¹à¸ªà¸‡à¸à¸µà¹ˆ %?", opts:["10-20%","40-60%","70-90%","95-100%"], ans:2 },
    ]
  },
  {
    id:2, title:"à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¸ªà¸´à¸™à¸„à¹‰à¸²à¹€à¸Šà¸´à¸‡à¸¥à¸¶à¸", subtitle:"Product Expert", icon:"ðŸ”", color:"#2196F3",
    lessons:[
      { id:"2-1", title:"à¸§à¸´à¸˜à¸µà¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸šà¸ªà¸´à¸™à¸„à¹‰à¸²", content:"Framework à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸š:\n\nBlackout: à¸à¸±à¸™à¹à¸ªà¸‡ 95-100% / à¸£à¸²à¸„à¸²à¸ªà¸¹à¸‡ / à¸—à¸™à¸—à¸²à¸™à¸¡à¸²à¸\nDimout: à¸à¸±à¸™à¹à¸ªà¸‡ 70-90% / à¸£à¸²à¸„à¸²à¸à¸¥à¸²à¸‡ / à¹ƒà¸Šà¹‰à¹„à¸”à¹‰à¸—à¸¸à¸à¸«à¹‰à¸­à¸‡\nSheer: à¸à¸±à¸™à¹à¸ªà¸‡ 10-20% / à¸£à¸²à¸„à¸²à¸•à¹ˆà¸³ / à¸‹à¸±à¸à¸‡à¹ˆà¸²à¸¢\n\nà¸«à¸¥à¸±à¸à¸à¸²à¸£: à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸šà¸•à¸²à¸¡ Need à¸¥à¸¹à¸à¸„à¹‰à¸² à¹„à¸¡à¹ˆà¹ƒà¸Šà¹ˆà¸•à¸²à¸¡à¸£à¸²à¸„à¸²" },
      { id:"2-2", title:"à¸­à¸˜à¸´à¸šà¸²à¸¢à¸£à¸²à¸„à¸²à¸­à¸¢à¹ˆà¸²à¸‡à¸¡à¸·à¸­à¸­à¸²à¸Šà¸µà¸ž", content:"à¹€à¸—à¸„à¸™à¸´à¸„ Price Justification:\n\n1. à¹€à¸—à¸µà¸¢à¸šà¸•à¹ˆà¸­à¸§à¸±à¸™: à¸¡à¹ˆà¸²à¸™ 8,000 à¸šà¸²à¸— à¹ƒà¸Šà¹‰ 8 à¸›à¸µ = à¸§à¸±à¸™à¸¥à¸° 3 à¸šà¸²à¸—\n2. à¹€à¸™à¹‰à¸™à¸„à¸¸à¸“à¸„à¹ˆà¸²: à¸œà¹‰à¸²à¸™à¸³à¹€à¸‚à¹‰à¸² à¸—à¸™ 5-8 à¸›à¸µ à¹„à¸¡à¹ˆà¸‹à¸µà¸” + à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¸Ÿà¸£à¸µ\n3. Good-Better-Best: à¹€à¸ªà¸™à¸­ 3 à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸ à¸¥à¸¹à¸à¸„à¹‰à¸²à¸¡à¸±à¸à¹€à¸¥à¸·à¸­à¸à¸à¸¥à¸²à¸‡\n4. à¸­à¸¢à¹ˆà¸²à¸¥à¸”à¸£à¸²à¸„à¸²à¸—à¸±à¸™à¸—à¸µ: à¹€à¸™à¹‰à¸™à¸„à¸¸à¹‰à¸¡à¸„à¹ˆà¸² à¹„à¸¡à¹ˆà¹ƒà¸Šà¹ˆà¸–à¸¹à¸à¸—à¸µà¹ˆà¸ªà¸¸à¸”" },
      { id:"2-3", title:"à¸‚à¹‰à¸­à¸”à¸µ-à¸‚à¹‰à¸­à¹€à¸ªà¸µà¸¢à¹à¸•à¹ˆà¸¥à¸°à¸›à¸£à¸°à¹€à¸ à¸—", content:"Blackout:\nâœ… à¸¡à¸·à¸”à¸ªà¸™à¸´à¸— à¸—à¸™à¸—à¸²à¸™ à¸à¸±à¸™à¸£à¹‰à¸­à¸™\nâŒ à¸£à¸²à¸„à¸²à¸ªà¸¹à¸‡ à¸«à¸™à¸±à¸\n\nDimout:\nâœ… à¸£à¸²à¸„à¸²à¸à¸¥à¸²à¸‡ à¹ƒà¸Šà¹‰à¹„à¸”à¹‰à¸—à¸¸à¸à¸«à¹‰à¸­à¸‡\nâŒ à¹„à¸¡à¹ˆà¸¡à¸·à¸” 100%\n\nSheer:\nâœ… à¸£à¸²à¸„à¸²à¹€à¸šà¸² à¸ªà¸§à¹ˆà¸²à¸‡ à¸‹à¸±à¸à¸‡à¹ˆà¸²à¸¢\nâŒ à¹„à¸¡à¹ˆà¸¡à¸µà¸„à¸§à¸²à¸¡à¹€à¸›à¹‡à¸™à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§\n\nSunscreen:\nâœ… à¹€à¸«à¹‡à¸™à¸§à¸´à¸§ à¸à¸±à¸™ UV\nâŒ à¸à¸¥à¸²à¸‡à¸„à¸·à¸™à¸¡à¸­à¸‡à¹€à¸‚à¹‰à¸²à¹€à¸«à¹‡à¸™" },
      { id:"2-4", title:"Case Study à¸¥à¸¹à¸à¸„à¹‰à¸²à¸ˆà¸£à¸´à¸‡", content:"Case 1: à¸„à¸­à¸™à¹‚à¸”à¸Šà¸±à¹‰à¸™ 30 à¸§à¸´à¸§à¸ªà¸§à¸¢\nâ€¢ à¸›à¸±à¸à¸«à¸²: à¹à¸”à¸”à¸ˆà¸±à¸”à¹à¸•à¹ˆà¹„à¸¡à¹ˆà¸­à¸¢à¸²à¸à¸šà¸±à¸‡à¸§à¸´à¸§\nâ€¢ Solution: Sunscreen 5% + Blackout à¸¡à¹‰à¸§à¸™à¸‹à¹ˆà¸­à¸™\nâ€¢ à¸œà¸¥à¸¥à¸±à¸žà¸˜à¹Œ: à¸¥à¸¹à¸à¸„à¹‰à¸² Upsell à¹€à¸žà¸´à¹ˆà¸¡ Blackout!\n\nCase 2: à¸šà¹‰à¸²à¸™à¹ƒà¸«à¸¡à¹ˆ 4 à¸«à¹‰à¸­à¸‡à¸™à¸­à¸™\nâ€¢ à¸‡à¸š 50,000 à¸—à¸±à¹‰à¸‡à¸«à¸¥à¸±à¸‡\nâ€¢ Solution: Blackout à¸«à¹‰à¸­à¸‡à¸™à¸­à¸™ + Dimout à¸«à¹‰à¸­à¸‡à¸­à¸·à¹ˆà¸™\nâ€¢ à¸¢à¸­à¸”à¸ˆà¸£à¸´à¸‡: 62,000 (à¹€à¸žà¸´à¹ˆà¸¡à¸¡à¹ˆà¸²à¸™à¹„à¸Ÿà¸Ÿà¹‰à¸²)" },
    ],
    quiz:[
      { q:"Good-Better-Best à¸„à¸·à¸­?", opts:["à¹€à¸ªà¸™à¸­à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸à¹€à¸”à¸µà¸¢à¸§","à¹€à¸ªà¸™à¸­ 3 à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸","à¸¥à¸”à¸£à¸²à¸„à¸²à¸—à¸±à¸™à¸—à¸µ","à¸›à¸´à¸”à¸‚à¸²à¸¢à¹€à¸£à¹‡à¸§"], ans:1 },
      { q:"Sunscreen à¸‚à¹‰à¸­à¹€à¸ªà¸µà¸¢à¸„à¸·à¸­?", opts:["à¸£à¸²à¸„à¸²à¹à¸žà¸‡à¸¡à¸²à¸","à¸à¸¥à¸²à¸‡à¸„à¸·à¸™à¸¡à¸­à¸‡à¹€à¸‚à¹‰à¸²à¹€à¸«à¹‡à¸™","à¸«à¸™à¸±à¸à¸¡à¸²à¸","à¸‹à¸±à¸à¹„à¸¡à¹ˆà¹„à¸”à¹‰"], ans:1 },
      { q:"à¸­à¸˜à¸´à¸šà¸²à¸¢à¸£à¸²à¸„à¸²à¸—à¸µà¹ˆà¸”à¸µà¸„à¸·à¸­?", opts:["à¸šà¸­à¸à¸–à¸¹à¸à¸à¸§à¹ˆà¸²à¸£à¹‰à¸²à¸™à¸­à¸·à¹ˆà¸™","à¹€à¸—à¸µà¸¢à¸šà¸•à¹ˆà¸­à¸§à¸±à¸™+à¹€à¸™à¹‰à¸™à¸„à¸¸à¸“à¸„à¹ˆà¸²","à¸¥à¸”à¸£à¸²à¸„à¸²à¹€à¸¥à¸¢","à¹„à¸¡à¹ˆà¸žà¸¹à¸”à¸£à¸²à¸„à¸²"], ans:1 },
      { q:"Dimout à¸‚à¹‰à¸­à¹€à¸ªà¸µà¸¢à¸«à¸¥à¸±à¸?", opts:["à¹à¸žà¸‡à¸¡à¸²à¸","à¹„à¸¡à¹ˆà¸¡à¸·à¸” 100%","à¸‹à¸±à¸à¹„à¸¡à¹ˆà¹„à¸”à¹‰","à¹„à¸¡à¹ˆà¸ªà¸§à¸¢"], ans:1 },
      { q:"Case à¸„à¸­à¸™à¹‚à¸”à¸Šà¸±à¹‰à¸™ 30 à¹ƒà¸Šà¹‰à¸¡à¹ˆà¸²à¸™à¸­à¸°à¹„à¸£?", opts:["Blackout à¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸”à¸µà¸¢à¸§","Sheer","Sunscreen+Blackout","à¸¡à¹ˆà¸²à¸™à¹„à¸¡à¹‰"], ans:2 },
    ]
  },
  {
    id:3, title:"à¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™à¸ˆà¸£à¸´à¸‡", subtitle:"Field Operations", icon:"ðŸ”§", color:"#FF9800",
    lessons:[
      { id:"3-1", title:"à¸§à¸´à¸˜à¸µà¸„à¸´à¸”à¸£à¸²à¸„à¸²à¸„à¸£à¹ˆà¸²à¸§à¹†", content:"à¸ªà¸¹à¸•à¸£à¸„à¸³à¸™à¸§à¸“:\n\nà¸œà¹‰à¸² = (à¸à¸§à¹‰à¸²à¸‡ x Fullness) x à¸ªà¸¹à¸‡ x à¸£à¸²à¸„à¸²à¸œà¹‰à¸²/à¸¡.\nà¸„à¹ˆà¸²à¹€à¸¢à¹‡à¸š = à¸ˆà¸³à¸™à¸§à¸™à¸Šà¸´à¹‰à¸™ x 350 à¸šà¸²à¸—\nà¸£à¸²à¸‡ = à¸„à¸§à¸²à¸¡à¸à¸§à¹‰à¸²à¸‡ x à¸£à¸²à¸„à¸²à¸£à¸²à¸‡/à¸¡.\n\nà¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡: à¸«à¸™à¹‰à¸²à¸•à¹ˆà¸²à¸‡ 2x2.4 à¸¡. Dimout 550 à¸šà¸²à¸—/à¸¡. à¸ˆà¸µà¸š x2\nà¸œà¹‰à¸² = 4 x 2.4 x 550 = 5,280 à¸šà¸²à¸—\nà¹€à¸¢à¹‡à¸š = 3 x 350 = 1,050 à¸šà¸²à¸—\nà¸£à¸²à¸‡ = 2 x 400 = 800 à¸šà¸²à¸—\nà¸£à¸§à¸¡ â‰ˆ 7,130 à¸šà¸²à¸—" },
      { id:"3-2", title:"à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸§à¸±à¸”à¸«à¸™à¹‰à¸²à¸‡à¸²à¸™", content:"à¹€à¸•à¸£à¸µà¸¢à¸¡à¸à¹ˆà¸­à¸™à¹„à¸›:\n1. à¸•à¸¥à¸±à¸šà¹€à¸¡à¸•à¸£ + à¹€à¸¥à¹€à¸‹à¸­à¸£à¹Œ\n2. à¸ªà¸¡à¸¸à¸”à¸ˆà¸” + à¸ªà¹€à¸à¹‡à¸•à¸Šà¹Œ\n3. à¸¡à¸·à¸­à¸–à¸·à¸­à¸–à¹ˆà¸²à¸¢à¸£à¸¹à¸›\n\nà¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸§à¸±à¸”:\n1. à¸§à¸±à¸”à¸à¸§à¹‰à¸²à¸‡ à¸à¸£à¸­à¸š + à¹€à¸œà¸·à¹ˆà¸­à¸‚à¹‰à¸²à¸‡ 15-20 à¸‹à¸¡.\n2. à¸§à¸±à¸”à¸ªà¸¹à¸‡ à¸ˆà¸²à¸à¸ˆà¸¸à¸”à¸•à¸´à¸”à¸£à¸²à¸‡ â†’ à¸ˆà¸¸à¸”à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£\n3. à¹€à¸Šà¹‡à¸„à¸ªà¸´à¹ˆà¸‡à¸à¸µà¸”à¸‚à¸§à¸²à¸‡ (à¹à¸­à¸£à¹Œ à¸£à¸²à¸§ à¸›à¸¥à¸±à¹Šà¸)\n4. à¸–à¹ˆà¸²à¸¢à¸£à¸¹à¸›à¸—à¸¸à¸à¸«à¸™à¹‰à¸²à¸•à¹ˆà¸²à¸‡\n5. à¸ˆà¸”à¸šà¸±à¸™à¸—à¸¶à¸à¸—à¸¸à¸à¸ˆà¸¸à¸”" },
      { id:"3-3", title:"à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸£à¸±à¸šà¸‡à¸²à¸™-à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡", content:"Flow à¸‡à¸²à¸™:\n1. à¸£à¸±à¸š Lead â†’ à¸™à¸±à¸”à¸§à¸±à¸”à¸«à¸™à¹‰à¸²à¸‡à¸²à¸™\n2. à¸§à¸±à¸”à¸«à¸™à¹‰à¸²à¸‡à¸²à¸™ + à¹à¸™à¸°à¸™à¸³à¸œà¹‰à¸²\n3. à¸ªà¹ˆà¸‡à¹ƒà¸šà¹€à¸ªà¸™à¸­à¸£à¸²à¸„à¸² (à¸ à¸²à¸¢à¹ƒà¸™ 24 à¸Šà¸¡.)\n4. à¸¥à¸¹à¸à¸„à¹‰à¸²à¸¢à¸·à¸™à¸¢à¸±à¸™ + à¸¡à¸±à¸”à¸ˆà¸³ 50%\n5. à¸ªà¸±à¹ˆà¸‡à¸œà¸¥à¸´à¸• (7-14 à¸§à¸±à¸™)\n6. à¸™à¸±à¸”à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡\n7. à¸•à¸£à¸§à¸ˆà¸‡à¸²à¸™ + à¹€à¸à¹‡à¸šà¹€à¸‡à¸´à¸™à¸—à¸µà¹ˆà¹€à¸«à¸¥à¸·à¸­\n8. à¸–à¹ˆà¸²à¸¢à¸£à¸¹à¸›à¸œà¸¥à¸‡à¸²à¸™ + à¸‚à¸­à¸£à¸µà¸§à¸´à¸§" },
      { id:"3-4", title:"à¸šà¸£à¸´à¸à¸²à¸£à¸«à¸¥à¸±à¸‡à¸à¸²à¸£à¸‚à¸²à¸¢", content:"After-Sales:\nâ€¢ à¸•à¸´à¸”à¸•à¸²à¸¡à¸«à¸¥à¸±à¸‡ 1 à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ\nâ€¢ à¸£à¸±à¸šà¸›à¸£à¸°à¸à¸±à¸™à¸£à¸²à¸‡ 3-5 à¸›à¸µ\nâ€¢ à¹à¸™à¸°à¸™à¸³à¸§à¸´à¸˜à¸µà¸”à¸¹à¹à¸¥à¸£à¸±à¸à¸©à¸²\nâ€¢ à¸‚à¸­à¸£à¸¹à¸›à¸£à¸µà¸§à¸´à¸§ + à¹à¸™à¸°à¸™à¸³à¹€à¸žà¸·à¹ˆà¸­à¸™\nâ€¢ à¹‚à¸›à¸£à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸à¹ˆà¸² à¸¥à¸” 10%\n\nà¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸à¹ˆà¸² 1 à¸„à¸™ = à¹à¸™à¸°à¸™à¸³à¹ƒà¸«à¸¡à¹ˆ 2-3 à¸„à¸™" },
    ],
    quiz:[
      { q:"Fullness x2 à¹ƒà¸Šà¹‰à¸œà¹‰à¸²à¸à¸§à¹‰à¸²à¸‡à¹€à¸—à¹ˆà¸²à¹„à¸£?", opts:["à¹€à¸—à¹ˆà¸²à¸«à¸™à¹‰à¸²à¸•à¹ˆà¸²à¸‡","2 à¹€à¸—à¹ˆà¸²","3 à¹€à¸—à¹ˆà¸²","à¸„à¸£à¸¶à¹ˆà¸‡à¸«à¸™à¸¶à¹ˆà¸‡"], ans:1 },
      { q:"à¸ªà¹ˆà¸‡à¹ƒà¸šà¹€à¸ªà¸™à¸­à¸£à¸²à¸„à¸²à¸ à¸²à¸¢à¸´à¸™à¸à¸µà¹ˆà¸Šà¸¡.?", opts:["1","12","24","168"], ans:2 },
      { q:"à¸¡à¸±à¸”à¸ˆà¸³à¸à¸µà¹ˆ %?", opts:["10%","30%","50%","100%"], ans:2 },
      { q:"à¸£à¸°à¸¢à¸°à¹€à¸§à¸¥à¸²à¸œà¸¥à¸´à¸•à¸¡à¹ˆà¸²à¸™à¸ªà¸±à¹ˆà¸‡à¸•à¸±à¸”?", opts:["1-2 à¸§à¸±à¸™","3-5 à¸§à¸±à¸™","7-14 à¸§à¸±à¸™","1 à¹€à¸”à¸·à¸­à¸™"], ans:2 },
      { q:"à¸•à¸´à¸”à¸•à¸²à¸¡à¸«à¸¥à¸±à¸‡à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¹€à¸¡à¸·à¹ˆà¸­à¹„à¸£?", opts:["à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡","1 à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ","1 à¹€à¸”à¸·à¸­à¸™","1 à¸›à¸µ"], ans:1 },
    ]
  },
  {
    id:4, title:"à¸—à¸±à¸à¸©à¸°à¸à¸²à¸£à¸‚à¸²à¸¢", subtitle:"Sales Mastery", icon:"ðŸŽ¯", color:"#9C27B0",
    lessons:[
      { id:"4-1", title:"Opening Script", content:"Walk-in à¸£à¹‰à¸²à¸™:\nà¸ªà¸§à¸±à¸ªà¸”à¸µà¸„à¹ˆà¸° à¸žà¸µà¹ˆà¸¡à¸­à¸‡à¸«à¸²à¸¡à¹ˆà¸²à¸™à¸ªà¸³à¸«à¸£à¸±à¸šà¸—à¸µà¹ˆà¹„à¸«à¸™à¸„à¸°?\n\nLINE/Chat:\nà¸ªà¸§à¸±à¸ªà¸”à¸µà¸„à¹ˆà¸° à¸‚à¸­à¸–à¸²à¸¡ 3 à¸‚à¹‰à¸­:\n1. à¸«à¸™à¹‰à¸²à¸•à¹ˆà¸²à¸‡à¸à¸§à¹‰à¸²à¸‡Ã—à¸ªà¸¹à¸‡?\n2. à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¡à¸·à¸”à¹à¸„à¹ˆà¹„à¸«à¸™?\n3. à¸Šà¸­à¸šà¸ªà¹„à¸•à¸¥à¹Œà¹„à¸«à¸™?\n\nà¹‚à¸—à¸£à¸¨à¸±à¸žà¸—à¹Œ:\nà¸ªà¸§à¸±à¸ªà¸”à¸µà¸„à¹ˆà¸° à¸—à¸£à¸²à¸šà¸§à¹ˆà¸²à¸ªà¸™à¹ƒà¸ˆà¸¡à¹ˆà¸²à¸™ à¸‚à¸­à¸–à¸²à¸¡à¹€à¸žà¸´à¹ˆà¸¡à¸™à¸°à¸„à¸°" },
      { id:"4-2", title:"à¸à¸²à¸£à¸„à¹‰à¸™à¸«à¸² Need", content:"5 à¸„à¸³à¸–à¸²à¸¡à¸—à¸­à¸‡:\n\n1. à¸¡à¹ˆà¸²à¸™à¸ªà¸³à¸«à¸£à¸±à¸šà¸«à¹‰à¸­à¸‡à¹„à¸«à¸™?\n2. à¸à¸±à¸™à¹à¸ªà¸‡à¸¡à¸²à¸à¸™à¹‰à¸­à¸¢à¹à¸„à¹ˆà¹„à¸«à¸™?\n3. à¸Šà¸­à¸šà¸ªà¹„à¸•à¸¥à¹Œà¹„à¸«à¸™? (Modern/Classic/Minimal)\n4. à¸‡à¸šà¸›à¸£à¸°à¸¡à¸²à¸“à¸›à¸£à¸°à¸¡à¸²à¸“à¹€à¸—à¹ˆà¸²à¹„à¸£?\n5. à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹ƒà¸Šà¹‰à¹€à¸¡à¸·à¹ˆà¸­à¹„à¸£?\n\nà¹€à¸„à¸¥à¹‡à¸”à¸¥à¸±à¸š: à¸–à¸²à¸¡à¸—à¸µà¸¥à¸°à¸‚à¹‰à¸­ à¸Ÿà¸±à¸‡à¹ƒà¸«à¹‰à¸ˆà¸š à¸­à¸¢à¹ˆà¸²à¸‚à¸±à¸”" },
      { id:"4-3", title:"à¹€à¸—à¸„à¸™à¸´à¸„à¸›à¸´à¸”à¸à¸²à¸£à¸‚à¸²à¸¢", content:"à¹€à¸—à¸„à¸™à¸´à¸„à¸›à¸´à¸”à¸”à¸µà¸¥:\n\n1. Assumptive Close:\nà¹ƒà¸«à¹‰à¸Šà¹ˆà¸²à¸‡à¹„à¸›à¸§à¸±à¸”à¸ˆà¸±à¸™à¸—à¸£à¹Œà¸«à¸£à¸·à¸­à¸­à¸±à¸‡à¸„à¸²à¸£à¸”à¸µà¸„à¸°?\n\n2. Summary Close:\nà¸ªà¸£à¸¸à¸›à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” â†’ à¸–à¸²à¸¡ confirm\n\n3. Trial Close:\nà¸–à¹‰à¸²à¸—à¸³à¸£à¸²à¸„à¸²à¸™à¸µà¹‰à¹„à¸”à¹‰ à¸ªà¸™à¹ƒà¸ˆà¹„à¸«à¸¡à¸„à¸°?\n\n4. Urgency Close:\nà¹‚à¸›à¸£à¸¥à¸” 15% à¸–à¸¶à¸‡à¸ªà¸´à¹‰à¸™à¹€à¸”à¸·à¸­à¸™\n\n5. Silence Close:\nà¹€à¸ªà¸™à¸­à¸£à¸²à¸„à¸²à¹à¸¥à¹‰à¸§... à¹€à¸‡à¸µà¸¢à¸š à¸£à¸­à¸•à¸±à¸”à¸ªà¸´à¸™à¹ƒà¸ˆ" },
      { id:"4-4", title:"à¸£à¸±à¸šà¸¡à¸·à¸­à¸‚à¹‰à¸­à¹‚à¸•à¹‰à¹à¸¢à¹‰à¸‡", content:"à¹à¸žà¸‡à¹„à¸›:\nâ†’ à¹€à¸—à¸µà¸¢à¸šà¸•à¹ˆà¸­à¸§à¸±à¸™ à¸•à¸à¸§à¸±à¸™à¸¥à¸°à¹„à¸¡à¹ˆà¸–à¸¶à¸‡ 5 à¸šà¸²à¸— + à¸Ÿà¸£à¸µà¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ + à¸¡à¸µ option à¸­à¸·à¹ˆà¸™\n\nà¸‚à¸­à¸„à¸´à¸”à¸à¹ˆà¸­à¸™:\nâ†’ à¸¡à¸µà¸­à¸°à¹„à¸£à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹à¸™à¹ˆà¹ƒà¸ˆà¹„à¸«à¸¡à¸„à¸°? à¸ªà¹ˆà¸‡à¸ªà¸£à¸¸à¸›à¹ƒà¸«à¹‰à¸—à¸²à¸‡ LINE\n\nà¸£à¹‰à¸²à¸™à¸­à¸·à¹ˆà¸™à¸–à¸¹à¸à¸à¸§à¹ˆà¸²:\nâ†’ à¸—à¸µà¹ˆà¹€à¸£à¸²à¹€à¸žà¸´à¹ˆà¸¡à¸„à¸·à¸­ à¸œà¹‰à¸²à¹€à¸à¸£à¸”à¸™à¸³à¹€à¸‚à¹‰à¸² + à¸£à¸²à¸‡à¸ªà¹à¸•à¸™à¹€à¸¥à¸ª + à¸Šà¹ˆà¸²à¸‡à¸¡à¸·à¸­à¹‚à¸›à¸£ + à¸£à¸±à¸šà¸›à¸£à¸°à¸à¸±à¸™ 3 à¸›à¸µ\n\nà¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸žà¸£à¹‰à¸­à¸¡:\nâ†’ à¹„à¸¡à¹ˆà¹€à¸›à¹‡à¸™à¹„à¸£ à¸ªà¹ˆà¸‡à¹à¸„à¸•à¸•à¸²à¸¥à¹‡à¸­à¸à¹ƒà¸«à¹‰à¸”à¸¹à¸à¹ˆà¸­à¸™" },
    ],
    quiz:[
      { q:"Assumptive Close à¸„à¸·à¸­?", opts:["à¸–à¸²à¸¡à¸§à¹ˆà¸²à¸‹à¸·à¹‰à¸­à¹„à¸«à¸¡","à¹ƒà¸«à¹‰à¹€à¸¥à¸·à¸­à¸à¸§à¸±à¸™à¸™à¸±à¸”","à¸¥à¸”à¸£à¸²à¸„à¸²à¹€à¸¥à¸¢","à¹€à¸‡à¸µà¸¢à¸šà¸£à¸­"], ans:1 },
      { q:"à¸¥à¸¹à¸à¸„à¹‰à¸²à¸šà¸­à¸ 'à¹à¸žà¸‡à¹„à¸›' à¸„à¸§à¸£?", opts:["à¸¥à¸”à¸£à¸²à¸„à¸²à¹€à¸¥à¸¢","à¹€à¸—à¸µà¸¢à¸šà¸•à¹ˆà¸­à¸§à¸±à¸™+à¹€à¸™à¹‰à¸™à¸„à¸¸à¸“à¸„à¹ˆà¸²","à¸šà¸­à¸à¹„à¸¡à¹ˆà¹à¸žà¸‡","à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹€à¸£à¸·à¹ˆà¸­à¸‡"], ans:1 },
      { q:"à¸„à¸³à¸–à¸²à¸¡à¹à¸£à¸à¸—à¸µà¹ˆà¸„à¸§à¸£à¸–à¸²à¸¡?", opts:["à¸‡à¸šà¹€à¸—à¹ˆà¸²à¹„à¸£","à¸¡à¹ˆà¸²à¸™à¸«à¹‰à¸­à¸‡à¹„à¸«à¸™","à¸‹à¸·à¹‰à¸­à¹€à¸¥à¸¢à¹„à¸«à¸¡","à¹€à¸„à¸¢à¹ƒà¸Šà¹‰à¸¢à¸µà¹ˆà¸«à¹‰à¸­à¸­à¸°à¹„à¸£"], ans:1 },
      { q:"Silence Close à¸„à¸·à¸­?", opts:["à¸žà¸¹à¸”à¹€à¸¢à¸­à¸°","à¹€à¸ªà¸™à¸­à¸£à¸²à¸„à¸²à¹à¸¥à¹‰à¸§à¹€à¸‡à¸µà¸¢à¸šà¸£à¸­","à¸›à¸´à¸”à¸‚à¸²à¸¢à¹€à¸¥à¸¢","à¹„à¸¡à¹ˆà¸žà¸¹à¸”"], ans:1 },
    ]
  },
  {
    id:5, title:"Advanced Sales", subtitle:"Top Performer", icon:"ðŸš€", color:"#E91E63",
    lessons:[
      { id:"5-1", title:"Upsell & Cross-sell", content:"Upsell:\nâ€¢ à¸¡à¹ˆà¸²à¸™à¹„à¸Ÿà¸Ÿà¹‰à¸² (+3,000-8,000/à¸£à¸²à¸‡)\nâ€¢ à¸¡à¹ˆà¸²à¸™ 2 à¸Šà¸±à¹‰à¸™ (à¸—à¸¶à¸š+à¹‚à¸›à¸£à¹ˆà¸‡)\nâ€¢ à¸œà¹‰à¸²à¸‹à¸±à¸šà¹ƒà¸™ (à¸à¸±à¸™à¸£à¹‰à¸­à¸™à¹€à¸žà¸´à¹ˆà¸¡)\nâ€¢ à¸£à¸²à¸‡à¸ªà¹à¸•à¸™à¹€à¸¥à¸ªà¹à¸—à¸™à¸­à¸¥à¸¹à¸¯\n\nCross-sell:\nâ€¢ à¸¡à¸¸à¹‰à¸‡à¸ˆà¸µà¸š à¸§à¸­à¸¥à¹€à¸›à¹€à¸›à¸­à¸£à¹Œ à¸žà¸£à¸¡\nâ€¢ à¸¡à¹ˆà¸²à¸™à¸«à¹‰à¸­à¸‡à¸­à¸·à¹ˆà¸™à¹ƒà¸™à¸šà¹‰à¸²à¸™\n\nà¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢: Upsell +20% à¸—à¸¸à¸à¸šà¸´à¸¥" },
      { id:"5-2", title:"à¸›à¸´à¸”à¸‡à¸²à¸™à¹‚à¸„à¸£à¸‡à¸à¸²à¸£", content:"à¸à¸²à¸£à¸‚à¸²à¸¢à¸‡à¸²à¸™à¹‚à¸„à¸£à¸‡à¸à¸²à¸£:\n\n1. à¸«à¸²à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹‚à¸„à¸£à¸‡à¸à¸²à¸£\n2. à¸•à¸´à¸”à¸•à¹ˆà¸­à¸à¹ˆà¸²à¸¢à¸ˆà¸±à¸”à¸‹à¸·à¹‰à¸­\n3. à¸ªà¹ˆà¸‡à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸œà¹‰à¸² + à¸£à¸²à¸„à¸²à¸žà¸´à¹€à¸¨à¸©\n4. à¹€à¸ˆà¸£à¸ˆà¸² Volume Discount\n5. à¸—à¸³à¸ªà¸±à¸à¸à¸² + Timeline\n6. à¸œà¸¥à¸´à¸• + à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¸•à¸²à¸¡à¹à¸œà¸™\n\nà¸‡à¸²à¸™à¹‚à¸„à¸£à¸‡à¸à¸²à¸£ 1 à¸‡à¸²à¸™ = à¸¢à¸­à¸”à¸‚à¸²à¸¢ 10-50 à¹€à¸—à¹ˆà¸² retail" },
      { id:"5-3", title:"à¸—à¸³à¸¢à¸­à¸”à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸à¹ˆà¸²", content:"à¸§à¸´à¸˜à¸µà¸—à¸³à¸¢à¸­à¸”à¸ˆà¸²à¸à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸à¹ˆà¸²:\n\n1. à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸–à¸²à¸¡à¸ªà¸¸à¸‚ 3-6 à¹€à¸”à¸·à¸­à¸™\n2. à¹€à¸ªà¸™à¸­à¹‚à¸›à¸£à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸à¹ˆà¸² (à¸¥à¸” 10-15%)\n3. à¸–à¸²à¸¡à¸¡à¸µà¸«à¹‰à¸­à¸‡à¹„à¸«à¸™à¸­à¸¢à¸²à¸à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸¡à¹ˆà¸²à¸™à¸­à¸µà¸à¹„à¸«à¸¡\n4. à¸‚à¸­ Referral: à¹à¸™à¸°à¸™à¸³à¹€à¸žà¸·à¹ˆà¸­à¸™ à¸¥à¸”à¸žà¸´à¹€à¸¨à¸©\n5. à¹ƒà¸Šà¹‰à¸£à¸¹à¸›à¸œà¸¥à¸‡à¸²à¸™à¹€à¸›à¹‡à¸™ Portfolio\n\nà¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢: 30% à¸¢à¸­à¸”à¸ˆà¸²à¸à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸à¹ˆà¸²+Referral" },
      { id:"5-4", title:"à¸à¸²à¸£à¸šà¸£à¸´à¸«à¸²à¸£ Pipeline", content:"Sales Pipeline:\n\nLead â†’ Qualified â†’ Proposal â†’ Negotiation â†’ Closed Won â†’ Production â†’ Installed\n\nDay 0: à¸£à¸±à¸š inquiry\nDay 0-1: à¸–à¸²à¸¡à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£\nDay 1-2: à¸ªà¹ˆà¸‡à¸£à¸²à¸„à¸²\nDay 2-5: à¹€à¸ˆà¸£à¸ˆà¸²\nDay 3-7: à¸›à¸´à¸”à¸”à¸µà¸¥\nDay 7-21: à¸œà¸¥à¸´à¸•\nDay 14-28: à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡\n\nKPI: à¸›à¸´à¸”à¸”à¸µà¸¥à¸ à¸²à¸¢à¹ƒà¸™ 7 à¸§à¸±à¸™à¸«à¸¥à¸±à¸‡à¸ªà¹ˆà¸‡à¸£à¸²à¸„à¸²" },
    ],
    quiz:[
      { q:"à¹€à¸›à¹‰à¸² Upsell à¸•à¹ˆà¸­à¸šà¸´à¸¥?", opts:["+5%","+10%","+20%","+50%"], ans:2 },
      { q:"à¸‡à¸²à¸™à¹‚à¸„à¸£à¸‡à¸à¸²à¸£ = retail à¸à¸µà¹ˆà¹€à¸—à¹ˆà¸²?", opts:["2-3","5-7","10-50","100"], ans:2 },
      { q:"à¸¢à¸­à¸”à¸ˆà¸²à¸à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸à¹ˆà¸²à¸„à¸§à¸£ %?", opts:["10%","20%","30%","50%"], ans:2 },
      { q:"à¸›à¸´à¸”à¸”à¸µà¸¥à¸ à¸²à¸¢à¸´à¸™à¸à¸µà¹ˆà¸§à¸±à¸™à¸«à¸¥à¸±à¸‡à¸ªà¹ˆà¸‡à¸£à¸²à¸„à¸²?", opts:["1","3","7","30"], ans:2 },
    ]
  },
];

const SCRIPTS_DATA = [
  { cat:"à¹€à¸›à¸´à¸”à¸šà¸—à¸ªà¸™à¸—à¸™à¸²", items:[
    { title:"Walk-in à¸£à¹‰à¸²à¸™", text:"à¸ªà¸§à¸±à¸ªà¸”à¸µà¸„à¹ˆà¸° à¸žà¸µà¹ˆà¸¡à¸­à¸‡à¸«à¸²à¸¡à¹ˆà¸²à¸™à¸ªà¸³à¸«à¸£à¸±à¸šà¸—à¸µà¹ˆà¹„à¸«à¸™à¸„à¸° â€” à¸šà¹‰à¸²à¸™à¹ƒà¸«à¸¡à¹ˆà¸«à¸£à¸·à¸­à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸¡à¹ˆà¸²à¸™à¹€à¸”à¸´à¸¡à¸„à¸°?" },
    { title:"LINE/Chat", text:"à¸ªà¸§à¸±à¸ªà¸”à¸µà¸„à¹ˆà¸° à¸¡à¹ˆà¸²à¸™à¸¡à¸µà¸«à¸¥à¸²à¸¢à¹à¸šà¸š à¸‚à¸­à¸–à¸²à¸¡ 3 à¸‚à¹‰à¸­à¸™à¸°à¸„à¸°:\n1ï¸âƒ£ à¸«à¸™à¹‰à¸²à¸•à¹ˆà¸²à¸‡à¸à¸§à¹‰à¸²à¸‡Ã—à¸ªà¸¹à¸‡à¹€à¸—à¹ˆà¸²à¹„à¸£?\n2ï¸âƒ£ à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¡à¸·à¸”à¹à¸„à¹ˆà¹„à¸«à¸™?\n3ï¸âƒ£ à¸Šà¸­à¸šà¸ªà¹„à¸•à¸¥à¹Œà¹„à¸«à¸™?" },
    { title:"à¹‚à¸—à¸£à¸¨à¸±à¸žà¸—à¹Œ", text:"à¸ªà¸§à¸±à¸ªà¸”à¸µà¸„à¹ˆà¸° à¸—à¸£à¸²à¸šà¸§à¹ˆà¸²à¸žà¸µà¹ˆà¸ªà¸™à¹ƒà¸ˆà¸¡à¹ˆà¸²à¸™ à¸‚à¸­à¹€à¸£à¸µà¸¢à¸™à¸–à¸²à¸¡à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸žà¸·à¹ˆà¸­à¹à¸™à¸°à¸™à¸³à¹„à¸”à¹‰à¸•à¸£à¸‡à¸™à¸°à¸„à¸°" },
  ]},
  { cat:"à¸•à¸­à¸šà¸„à¸³à¸–à¸²à¸¡à¸¢à¸­à¸”à¸®à¸´à¸•", items:[
    { title:"à¸£à¸²à¸„à¸²à¹€à¸—à¹ˆà¸²à¹„à¸£?", text:"à¸¡à¹ˆà¸²à¸™à¸¡à¸µà¸«à¸¥à¸²à¸¢à¹€à¸à¸£à¸” à¸•à¸±à¹‰à¸‡à¹à¸•à¹ˆ 1,500-20,000+ à¸•à¹ˆà¸­à¸«à¸™à¹‰à¸²à¸•à¹ˆà¸²à¸‡ à¸‚à¸­à¸—à¸£à¸²à¸šà¸‚à¸™à¸²à¸”à¸à¹ˆà¸­à¸™à¸™à¸°à¸„à¸° à¸ˆà¸°à¸„à¸³à¸™à¸§à¸“à¹ƒà¸«à¹‰à¸•à¸£à¸‡" },
    { title:"à¸à¸µà¹ˆà¸§à¸±à¸™à¹„à¸”à¹‰?", text:"à¸›à¸à¸•à¸´ 7-14 à¸§à¸±à¸™à¸—à¸³à¸à¸²à¸£ à¸œà¹‰à¸²à¸™à¸³à¹€à¸‚à¹‰à¸²à¸žà¸´à¹€à¸¨à¸©à¸­à¸²à¸ˆ 3-4 à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ à¹à¸ˆà¹‰à¸‡à¸à¸³à¸«à¸™à¸”à¸Šà¸±à¸”à¹€à¸ˆà¸™à¸•à¸­à¸™à¸¢à¸·à¸™à¸¢à¸±à¸™à¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¸„à¹ˆà¸°" },
    { title:"à¸‹à¸±à¸à¹„à¸”à¹‰à¹„à¸«à¸¡?", text:"à¹‚à¸žà¸¥à¸µà¹€à¸­à¸ªà¹€à¸•à¸­à¸£à¹Œà¸‹à¸±à¸à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸™à¹‰à¸³à¹€à¸¢à¹‡à¸™à¹„à¸”à¹‰ / à¸¥à¸´à¸™à¸´à¸™à¹à¸™à¸°à¸™à¸³à¸‹à¸±à¸à¹à¸«à¹‰à¸‡ / à¸¡à¹ˆà¸²à¸™à¸¡à¹‰à¸§à¸™à¹€à¸Šà¹‡à¸”à¸œà¹‰à¸²à¸Šà¸¸à¸šà¸™à¹‰à¸³à¸«à¸¡à¸²à¸”à¹†" },
  ]},
  { cat:"à¸›à¸´à¸”à¸à¸²à¸£à¸‚à¸²à¸¢", items:[
    { title:"Assumptive Close", text:"à¹ƒà¸«à¹‰à¸Šà¹ˆà¸²à¸‡à¹„à¸›à¸§à¸±à¸”à¸§à¸±à¸™à¸ˆà¸±à¸™à¸—à¸£à¹Œà¸«à¸£à¸·à¸­à¸­à¸±à¸‡à¸„à¸²à¸£à¸”à¸µà¸„à¸°?" },
    { title:"Urgency Close", text:"à¸•à¸­à¸™à¸™à¸µà¹‰à¹‚à¸›à¸£à¸¥à¸” 15% à¸–à¸¶à¸‡à¸ªà¸´à¹‰à¸™à¹€à¸”à¸·à¸­à¸™ à¸ªà¸™à¹ƒà¸ˆà¸ˆà¸­à¸‡à¹„à¸§à¹‰à¸à¹ˆà¸­à¸™à¹„à¸«à¸¡à¸„à¸°?" },
    { title:"Summary Close", text:"à¸ªà¸£à¸¸à¸› â€” Blackout 3 à¸«à¸™à¹‰à¸²à¸•à¹ˆà¸²à¸‡ + Sheer à¸«à¹‰à¸­à¸‡à¸™à¸±à¹ˆà¸‡à¹€à¸¥à¹ˆà¸™ + à¸£à¸²à¸‡à¸ªà¹à¸•à¸™à¹€à¸¥à¸ª à¸£à¸§à¸¡ XX à¸šà¸²à¸— à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¸Ÿà¸£à¸µ confirm à¹„à¸”à¹‰à¹€à¸¥à¸¢à¸„à¹ˆà¸°" },
  ]},
  { cat:"Follow up", items:[
    { title:"à¸«à¸¥à¸±à¸‡à¸ªà¹ˆà¸‡à¸£à¸²à¸„à¸² 2 à¸§à¸±à¸™", text:"à¸ªà¸§à¸±à¸ªà¸”à¸µà¸„à¹ˆà¸° à¹ƒà¸šà¹€à¸ªà¸™à¸­à¸£à¸²à¸„à¸²à¸—à¸µà¹ˆà¸ªà¹ˆà¸‡à¹„à¸› à¸¡à¸µà¸•à¸£à¸‡à¹„à¸«à¸™à¸ªà¸‡à¸ªà¸±à¸¢à¹„à¸«à¸¡à¸„à¸°? à¸•à¸±à¸”à¸ªà¸´à¸™à¹ƒà¸ˆà¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸™à¸µà¹‰ à¸Ÿà¸£à¸µà¸„à¹ˆà¸²à¸‚à¸™à¸ªà¹ˆà¸‡à¸”à¹‰à¸§à¸¢à¸„à¹ˆà¸°" },
    { title:"à¸«à¸¥à¸±à¸‡à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ 1 à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ", text:"à¸ªà¸§à¸±à¸ªà¸”à¸µà¸„à¹ˆà¸° à¸¡à¹ˆà¸²à¸™à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¹€à¸›à¹‡à¸™à¸¢à¸±à¸‡à¹„à¸‡à¸šà¹‰à¸²à¸‡à¸„à¸°? à¸¡à¸µà¸­à¸°à¹„à¸£à¹ƒà¸«à¹‰à¸›à¸£à¸±à¸šà¹„à¸«à¸¡? à¸–à¹‰à¸²à¹‚à¸­à¹€à¸„ à¸‚à¸­à¸£à¸µà¸§à¸´à¸§à¸”à¹‰à¸§à¸¢à¸™à¸°à¸„à¸° ðŸ™" },
    { title:"à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸à¹ˆà¸² 3 à¹€à¸”à¸·à¸­à¸™", text:"à¸ªà¸§à¸±à¸ªà¸”à¸µà¸„à¹ˆà¸° à¸¡à¹ˆà¸²à¸™à¸—à¸µà¹ˆà¸•à¸´à¸”à¹„à¸›à¸¢à¸±à¸‡à¸”à¸µà¸­à¸¢à¸¹à¹ˆà¹„à¸«à¸¡à¸„à¸°? à¸¡à¸µà¹‚à¸›à¸£à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸à¹ˆà¸²à¸¥à¸” 10% à¸¡à¸µà¸«à¹‰à¸­à¸‡à¹„à¸«à¸™à¸­à¸¢à¸²à¸à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ à¹à¸ˆà¹‰à¸‡à¹„à¸”à¹‰à¹€à¸¥à¸¢à¸„à¹ˆà¸°" },
  ]},
];

const FABRIC_PRICES = [
  { name:"Sheer/Voile", price:300 },
  { name:"Dimout", price:550 },
  { name:"Blackout", price:800 },
  { name:"Sunscreen", price:600 },
  { name:"à¸¥à¸´à¸™à¸´à¸™", price:1000 },
  { name:"à¸à¸³à¸¡à¸°à¸«à¸¢à¸µà¹ˆ", price:1500 },
];
const RAIL_PRICES = [
  { name:"à¸­à¸¥à¸¹à¸¡à¸´à¹€à¸™à¸µà¸¢à¸¡", price:400 },
  { name:"à¸ªà¹à¸•à¸™à¹€à¸¥à¸ª", price:700 },
  { name:"à¹„à¸Ÿà¸Ÿà¹‰à¸²", price:3500 },
];

const CSS = `
@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai:wght@300;400;500;600;700&family=Outfit:wght@400;500;600;700;800&display=swap');
:root{--bg:#F5F6FA;--sf:#FFFFFF;--sf2:#F0F1F5;--sf3:#E4E6EE;--bd:#D8DBE5;--tx:#1A1D2E;--tx2:#6B7086;--tx3:#9498AC;--ac:#6C5CE7;--ac2:#5A4BD4;--acbg:rgba(108,92,231,.07);--gn:#00B894;--gnbg:rgba(0,184,148,.08);--or:#E17055;--orbg:rgba(225,112,85,.08);--rd:#E74C3C;--rdbg:rgba(231,76,60,.08);--bl:#3498DB;--blbg:rgba(52,152,219,.08);--pk:#E84393;--r:14px;--r2:10px;--r3:8px;--sh:0 2px 12px rgba(0,0,0,.06);--f:'IBM Plex Sans Thai','Outfit',sans-serif}
*{margin:0;padding:0;box-sizing:border-box}
.app{font-family:var(--f);background:var(--bg);color:var(--tx);min-height:100vh;line-height:1.6}
.lp{min-height:100vh;display:flex;overflow:hidden}
.ll{flex:1;display:flex;flex-direction:column;justify-content:center;padding:60px;z-index:1}
.lr{flex:1;background:linear-gradient(135deg,#6C5CE7,#4834d4);display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}
.lr::before{content:'';position:absolute;width:500px;height:500px;border-radius:50%;background:rgba(255,255,255,.1);top:-100px;right:-100px}
.lh{text-align:center;z-index:1;position:relative;color:#fff}
.lh .ic{font-size:80px;margin-bottom:20px}
.lh h2{font-family:Outfit;font-size:28px;font-weight:700;margin-bottom:8px}
.lh p{opacity:.8;font-size:15px;max-width:300px}
.lf{max-width:400px}
.logo{font-family:Outfit;font-size:28px;font-weight:800;margin-bottom:8px}
.logo span{color:var(--ac)}
.lsub{color:var(--tx2);font-size:14px;margin-bottom:40px}
.fg{margin-bottom:18px}
.fg label{display:block;font-size:12px;font-weight:600;color:var(--tx2);margin-bottom:6px;text-transform:uppercase;letter-spacing:1px}
.fg input{width:100%;padding:14px 16px;background:var(--sf);border:1px solid var(--bd);border-radius:var(--r2);color:var(--tx);font-family:var(--f);font-size:15px}
.fg input:focus{outline:none;border-color:var(--ac)}
.lbtn{width:100%;padding:14px;background:#6C5CE7;color:#fff;border:none;border-radius:var(--r2);font-family:var(--f);font-size:15px;font-weight:600;cursor:pointer;margin-top:8px}
.lbtn:hover{background:#5a4bd4}
.lerr{color:var(--rd);font-size:13px;margin-top:8px}
.da{margin-top:32px;padding:18px;background:var(--sf);border-radius:var(--r2);border:1px solid var(--bd)}
.da h4{font-size:12px;color:var(--tx2);margin-bottom:10px;text-transform:uppercase;letter-spacing:1px}
.dr{display:flex;justify-content:space-between;padding:6px 0;font-size:13px;color:var(--tx3);cursor:pointer}
.dr:hover{color:var(--ac2)}
.dr span:first-child{color:var(--tx)}
.layout{display:flex;min-height:100vh}
.sb{width:260px;background:#FFFFFF;border-right:1px solid var(--bd);box-shadow:2px 0 12px rgba(0,0,0,.04);display:flex;flex-direction:column;position:fixed;top:0;left:0;bottom:0;z-index:100}
.sb-logo{padding:24px 20px;border-bottom:1px solid var(--bd);font-family:Outfit;font-weight:800;font-size:20px}
.sb-logo span{color:var(--ac)}
.sb-nav{flex:1;padding:12px 10px;overflow-y:auto}
.ni{display:flex;align-items:center;gap:10px;padding:11px 14px;border-radius:var(--r3);color:var(--tx2);font-size:14px;font-weight:500;cursor:pointer;margin-bottom:2px}
.ni:hover{background:var(--sf2);color:var(--tx)}
.ni.on{background:var(--acbg);color:var(--ac2)}
.ni .ic{font-size:18px;width:24px;text-align:center}
.ndv{height:1px;background:var(--bd);margin:10px 14px}
.su{padding:16px 20px;border-top:1px solid var(--bd);display:flex;align-items:center;gap:10px}
.su .av{font-size:28px}
.su .nm{font-size:14px;font-weight:600}
.rb{display:inline-block;font-size:10px;font-weight:700;padding:2px 8px;border-radius:4px;text-transform:uppercase;letter-spacing:.5px}
.lob{background:none;border:none;color:var(--tx3);cursor:pointer;font-size:16px;padding:6px;border-radius:6px}
.lob:hover{background:var(--rdbg);color:var(--rd)}
.mn{flex:1;margin-left:260px;min-height:100vh}
.mh{padding:20px 32px;border-bottom:1px solid var(--bd);display:flex;align-items:center;justify-content:space-between;background:rgba(245,246,250,.85);backdrop-filter:blur(10px);position:sticky;top:0;z-index:50}
.mt{font-family:Outfit;font-size:22px;font-weight:700}
.mc{padding:28px 32px}
.card{background:#fff;border:1px solid var(--bd);border-radius:var(--r);padding:24px;transition:all .2s;box-shadow:0 1px 4px rgba(0,0,0,.04)}
.card:hover{border-color:var(--ac)}
.cg{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px;margin-bottom:24px}
.sc{text-align:center}
.sc .si{font-size:32px;margin-bottom:10px}
.sc .sv{font-family:Outfit;font-size:32px;font-weight:800}
.sc .sl{font-size:13px;color:var(--tx2);margin-top:4px}
.lc{background:var(--sf);border:1px solid var(--bd);border-radius:var(--r);padding:24px;display:flex;align-items:center;gap:20px;cursor:pointer;transition:all .2s;margin-bottom:14px}
.lc:hover{border-color:var(--ac);transform:translateX(4px)}
.lc.lk{opacity:.5;cursor:not-allowed}
.lc.lk:hover{transform:none;border-color:var(--bd)}
.li{font-size:40px;width:60px;height:60px;border-radius:16px;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.linf{flex:1}
.linf h3{font-size:17px;font-weight:700;margin-bottom:2px}
.linf p{font-size:13px;color:var(--tx2)}
.lpb{height:6px;background:var(--sf3);border-radius:3px;margin-top:10px;overflow:hidden}
.lpf{height:100%;border-radius:3px;transition:width .5s}
.lbd{font-size:11px;font-weight:700;padding:4px 12px;border-radius:20px;white-space:nowrap}
.lli{display:flex;align-items:center;gap:14px;padding:16px 20px;background:var(--sf);border:1px solid var(--bd);border-radius:var(--r2);margin-bottom:10px;cursor:pointer;transition:all .15s}
.lli:hover{border-color:var(--ac);background:var(--sf2)}
.lli.dn{border-color:var(--gn)}
.lck{width:24px;height:24px;border-radius:50%;border:2px solid var(--bd);display:flex;align-items:center;justify-content:center;font-size:12px;flex-shrink:0}
.lli.dn .lck{background:var(--gn);border-color:var(--gn);color:#fff}
.cv{background:var(--sf);border:1px solid var(--bd);border-radius:var(--r);padding:36px;max-width:800px}
.cv h2{font-family:Outfit;font-size:24px;font-weight:700;margin-bottom:20px}
.cb{font-size:14px;line-height:1.8;white-space:pre-wrap}
.cn{display:flex;gap:10px;margin-top:28px}
.btn{padding:10px 20px;border:none;border-radius:var(--r3);font-family:var(--f);font-size:14px;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px}
.bp{background:var(--ac);color:#fff}.bp:hover{background:#5a4bd4}
.bg{background:var(--sf2);color:var(--tx);border:1px solid var(--bd)}.bg:hover{border-color:var(--ac)}
.bgn{background:var(--gn);color:#fff}.bgn:hover{background:#00a382}
.bs{padding:7px 14px;font-size:13px}
.qc{max-width:700px}
.qp{display:flex;gap:4px;margin-bottom:16px}
.qd{flex:1;height:4px;border-radius:2px;background:var(--sf3)}
.qd.dn{background:var(--gn)}.qd.cur{background:var(--ac)}
.qq{font-size:18px;font-weight:600;margin-bottom:20px}
.qqn{color:var(--ac2);font-size:13px;margin-bottom:6px}
.qo{display:block;width:100%;text-align:left;padding:14px 18px;background:var(--sf);border:1px solid var(--bd);border-radius:var(--r2);color:var(--tx);font-family:var(--f);font-size:14px;cursor:pointer;margin-bottom:8px}
.qo:hover{border-color:var(--ac);background:var(--acbg)}
.qo.sel{border-color:var(--ac);background:var(--acbg)}
.qo.ok{border-color:var(--gn);background:var(--gnbg);color:var(--gn)}
.qo.no{border-color:var(--rd);background:var(--rdbg);color:var(--rd)}
.qr{text-align:center;padding:40px}
.qr .scr{font-family:Outfit;font-size:64px;font-weight:800}
.qr .pass{color:var(--gn)}.qr .fail{color:var(--rd)}
.clc{max-width:600px}
.clr{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:14px}
.clf label{display:block;font-size:12px;font-weight:600;color:var(--tx2);margin-bottom:5px}
.clf input,.clf select{width:100%;padding:12px 14px;background:var(--sf2);border:1px solid var(--bd);border-radius:var(--r3);color:var(--tx);font-family:var(--f);font-size:14px}
.clf input:focus,.clf select:focus{outline:none;border-color:var(--ac)}
.clres{margin-top:20px;padding:24px;background:var(--acbg);border:1px solid var(--ac);border-radius:var(--r)}
.clres .pr{font-family:Outfit;font-size:36px;font-weight:800;color:var(--ac2)}
.clres .dt{font-size:13px;color:var(--tx2);margin-top:8px;line-height:1.8}
.scat{margin-bottom:28px}
.scat h3{font-size:16px;font-weight:700;margin-bottom:12px;display:flex;align-items:center;gap:8px}
.si2{background:var(--sf);border:1px solid var(--bd);border-radius:var(--r2);padding:18px;margin-bottom:10px;cursor:pointer}
.si2:hover{border-color:var(--ac)}
.si2 h4{font-size:14px;font-weight:600;margin-bottom:6px;color:var(--ac2)}
.si2 p{font-size:13px;color:var(--tx2);white-space:pre-wrap;line-height:1.6}
.cpb{font-size:11px;background:var(--sf3);border:none;color:var(--tx2);padding:4px 10px;border-radius:4px;cursor:pointer;margin-top:8px;font-family:var(--f)}
.cpb:hover{background:var(--ac);color:#fff}
.tt{width:100%;border-collapse:collapse}
.tt th{text-align:left;padding:10px 14px;font-size:12px;color:var(--tx3);font-weight:600;text-transform:uppercase;letter-spacing:.5px;border-bottom:1px solid var(--bd)}
.tt td{padding:12px 14px;font-size:14px;border-bottom:1px solid var(--bd)}
.tt tr:hover td{background:var(--sf2)}
.badge{display:inline-flex;align-items:center;gap:4px;font-size:11px;font-weight:700;padding:3px 10px;border-radius:20px}
.b-gn{background:var(--gnbg);color:var(--gn)}
.b-or{background:var(--orbg);color:var(--or)}
.b-rd{background:var(--rdbg);color:var(--rd)}
.b-bl{background:var(--blbg);color:var(--bl)}
.b-pu{background:var(--acbg);color:var(--ac2)}
.asr{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-bottom:24px}
.as{background:var(--sf);border:1px solid var(--bd);border-radius:var(--r2);padding:18px;text-align:center}
.as .v{font-family:Outfit;font-size:28px;font-weight:800}
.as .l{font-size:12px;color:var(--tx2)}
.tr{display:flex;gap:4px;margin-bottom:24px;background:var(--sf);padding:4px;border-radius:var(--r2);border:1px solid var(--bd)}
.tb{padding:9px 18px;border:none;background:none;font-family:var(--f);font-size:13px;font-weight:600;color:var(--tx3);border-radius:var(--r3);cursor:pointer}
.tb:hover{color:var(--tx)}.tb.on{background:var(--ac);color:#fff}

.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.35);backdrop-filter:blur(4px);z-index:200;display:flex;align-items:center;justify-content:center;animation:fadeIn .2s}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes slideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.modal{background:#fff;border:1px solid var(--bd);border-radius:var(--r);padding:32px;width:90%;max-width:560px;max-height:85vh;overflow-y:auto;animation:slideUp .25s ease-out;box-shadow:0 20px 60px rgba(0,0,0,.15)}
.modal h2{font-family:Outfit;font-size:20px;font-weight:700;margin-bottom:20px;display:flex;align-items:center;gap:10px}
.modal-close{position:absolute;top:16px;right:16px;background:none;border:none;color:var(--tx3);font-size:20px;cursor:pointer;padding:4px 8px;border-radius:6px}
.modal-close:hover{background:var(--rdbg);color:var(--rd)}
.mfg{margin-bottom:16px}
.mfg label{display:block;font-size:12px;font-weight:600;color:var(--tx2);margin-bottom:5px;text-transform:uppercase;letter-spacing:.5px}
.mfg input,.mfg select,.mfg textarea{width:100%;padding:11px 14px;background:var(--sf2);border:1px solid var(--bd);border-radius:var(--r3);color:var(--tx);font-family:var(--f);font-size:14px}
.mfg input:focus,.mfg select:focus,.mfg textarea:focus{outline:none;border-color:var(--ac)}
.mfg textarea{min-height:80px;resize:vertical}
.mfr{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.modal-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:24px;padding-top:16px;border-top:1px solid var(--bd)}
.btn-danger{background:var(--rd);color:#fff}.btn-danger:hover{background:#c0392b}

.mfg textarea{min-height:80px;resize:vertical;font-size:13px;line-height:1.7}
.mfg select option{background:var(--sf);color:var(--tx)}

.media-block{margin:16px 0;border-radius:10px;overflow:hidden;border:1px solid var(--bd);background:var(--sf2)}
.media-block img{width:100%;display:block;max-height:400px;object-fit:contain;background:#f0f0f5}
.media-block .vid-wrap{position:relative;padding-bottom:56.25%;height:0;overflow:hidden}
.media-block .vid-wrap iframe{position:absolute;top:0;left:0;width:100%;height:100%;border:0}
.media-block .caption{padding:8px 12px;font-size:12px;color:var(--tx3);text-align:center}
.media-editor{border:1px dashed var(--bd);border-radius:8px;padding:14px;margin-bottom:10px;background:var(--sf2)}
.media-editor .me-head{display:flex;align-items:center;gap:8px;margin-bottom:8px}
.media-editor .me-type{display:flex;gap:4px}
.media-editor .me-type button{padding:4px 12px;border-radius:6px;border:1px solid var(--bd);background:var(--sf);color:var(--tx2);font-size:12px;cursor:pointer;font-family:var(--f)}
.media-editor .me-type button.on{background:var(--ac);color:#fff;border-color:var(--ac)}
.toast{position:fixed;bottom:24px;right:24px;background:var(--gn);color:#fff;padding:12px 20px;border-radius:var(--r3);font-size:14px;font-weight:600;z-index:300;animation:slideUp .3s ease-out;box-shadow:0 4px 20px rgba(0,0,0,.3)}
@keyframes loading{0%{width:20%;margin-left:0}50%{width:60%;margin-left:20%}100%{width:20%;margin-left:80%}}
@media(max-width:768px){.lr{display:none}.ll{padding:30px}.sb{display:none}.mn{margin-left:0}.mc{padding:16px}.cg{grid-template-columns:1fr}.clr{grid-template-columns:1fr}.asr{grid-template-columns:1fr 1fr}}
`;




// === LOGO ASSETS ===
const LOGO_ICON = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj4KICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZzEiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjN0M2QkYwIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjNkM1Q0U3Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzUyNDFDQyIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZzIiIHgxPSIwIiB5MT0iMCIgeDI9IjAiIHkyPSIxIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI0ZGRkZGRiIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNFMERBRkYiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImczIiB4MT0iMCIgeTE9IjAiIHgyPSIwIiB5Mj0iMSI+CiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNGRkZGRkYiIHN0b3Atb3BhY2l0eT0iLjc1Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI0M4QkZGRiIgc3RvcC1vcGFjaXR5PSIuNiIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZ29sZCIgeDE9IjAiIHkxPSIwIiB4Mj0iMSIgeTI9IjAiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjRjREMDNGIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iNDAlIiBzdG9wLWNvbG9yPSIjRkZFQUE3Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI0Y0RDAzRiIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDxmaWx0ZXIgaWQ9ImRzIj4KICAgICAgPGZlRHJvcFNoYWRvdyBkeD0iMCIgZHk9IjgiIHN0ZERldmlhdGlvbj0iMTYiIGZsb29kLWNvbG9yPSIjM0QyQjhDIiBmbG9vZC1vcGFjaXR5PSIuMzUiLz4KICAgIDwvZmlsdGVyPgogICAgPGNsaXBQYXRoIGlkPSJjbGlwIj48cmVjdCB4PSIzMiIgeT0iMzIiIHdpZHRoPSI0NDgiIGhlaWdodD0iNDQ4IiByeD0iMTAwIi8+PC9jbGlwUGF0aD4KICA8L2RlZnM+CgogIDwhLS0gQkcgLS0+CiAgPHJlY3QgeD0iMzIiIHk9IjMyIiB3aWR0aD0iNDQ4IiBoZWlnaHQ9IjQ0OCIgcng9IjEwMCIgZmlsbD0idXJsKCNnMSkiIGZpbHRlcj0idXJsKCNkcykiLz4KICA8IS0tIEdsb3cgb3JicyAtLT4KICA8ZyBjbGlwLXBhdGg9InVybCgjY2xpcCkiPgogICAgPGNpcmNsZSBjeD0iMTQwIiBjeT0iMTIwIiByPSIxNjAiIGZpbGw9IiM4QjdDRjciIG9wYWNpdHk9Ii4zIi8+CiAgICA8Y2lyY2xlIGN4PSI0MDAiIGN5PSI0MDAiIHI9IjE0MCIgZmlsbD0iIzRBM0FCNSIgb3BhY2l0eT0iLjMiLz4KICA8L2c+CgogIDwhLS0gQ3VydGFpbiByYWlsIC0tPgogIDxyZWN0IHg9IjEwMCIgeT0iMTI4IiB3aWR0aD0iMzEyIiBoZWlnaHQ9IjEwIiByeD0iNSIgZmlsbD0idXJsKCNnb2xkKSIvPgogIDxjaXJjbGUgY3g9IjEwMCIgY3k9IjEzMyIgcj0iMTIiIGZpbGw9IiNGNEQwM0YiLz4KICA8Y2lyY2xlIGN4PSIxMDAiIGN5PSIxMzMiIHI9IjUuNSIgZmlsbD0iI0ZGRjhEQyIvPgogIDxjaXJjbGUgY3g9IjQxMiIgY3k9IjEzMyIgcj0iMTIiIGZpbGw9IiNGNEQwM0YiLz4KICA8Y2lyY2xlIGN4PSI0MTIiIGN5PSIxMzMiIHI9IjUuNSIgZmlsbD0iI0ZGRjhEQyIvPgoKICA8IS0tIExlZnQgY3VydGFpbiDigJQgMyB3YXZlIGZvbGRzIC0tPgogIDxwYXRoIGQ9IgogICAgTTExMiAxMzgKICAgIEMxMDggMTgwLDEwMiAyMzAsMTA4IDI4MAogICAgQzExNCAzMzAsMTA0IDM2MCwxMTAgMzk1CiAgICBMMTM0IDM5NQogICAgQzE0MCAzNjAsMTMwIDMyNSwxMzYgMjgwCiAgICBDMTQyIDIzMCwxMzYgMTg1LDE0MCAxMzgKICAgIFoiIGZpbGw9InVybCgjZzIpIi8+CiAgPHBhdGggZD0iCiAgICBNMTQwIDEzOAogICAgQzEzNiAxODUsMTMwIDIzMCwxMzYgMjgwCiAgICBDMTQyIDMyNSwxMzIgMzYwLDEzOCAzOTUKICAgIEwxNjIgMzk1CiAgICBDMTY4IDM2MCwxNTggMzI1LDE2NCAyODAKICAgIEMxNzAgMjMwLDE2NCAxODUsMTY4IDEzOAogICAgWiIgZmlsbD0idXJsKCNnMikiIG9wYWNpdHk9Ii44OCIvPgogIDxwYXRoIGQ9IgogICAgTTE2OCAxMzgKICAgIEMxNjQgMTg1LDE1OCAyMzUsMTY0IDI4MAogICAgQzE3MCAzMzAsMTYwIDM2MCwxNjYgMzk1CiAgICBMMTk0IDM5NQogICAgQzIwMCAzNjAsMTkwIDMyNSwxOTYgMjgwCiAgICBDMjAyIDIzMCwxOTYgMTg1LDIwMCAxMzgKICAgIFoiIGZpbGw9InVybCgjZzIpIiBvcGFjaXR5PSIuNzYiLz4KICA8IS0tIEZvbGQgaGlnaGxpZ2h0cyAtLT4KICA8cGF0aCBkPSJNMTI2IDE1NSBDMTI0IDIyMCwxMjAgMzAwLDEyNyAzOTAiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIgb3BhY2l0eT0iLjUiIGZpbGw9Im5vbmUiLz4KICA8cGF0aCBkPSJNMTU0IDE1NSBDMTUyIDIyMCwxNDggMzAwLDE1NSAzOTAiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMS41IiBvcGFjaXR5PSIuMzUiIGZpbGw9Im5vbmUiLz4KICA8cGF0aCBkPSJNMTgyIDE1NSBDMTgwIDIyNSwxNzYgMzAwLDE4MyAzOTAiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMS41IiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIvPgoKICA8IS0tIFJpZ2h0IGN1cnRhaW4g4oCUIDMgd2F2ZSBmb2xkcyAtLT4KICA8cGF0aCBkPSIKICAgIE0zMTIgMTM4CiAgICBDMzE2IDE4NSwzMTAgMjMwLDMxNiAyODAKICAgIEMzMjIgMzI1LDMxMiAzNjAsMzE4IDM5NQogICAgTDM0NiAzOTUKICAgIEMzNTIgMzYwLDM0MiAzMzAsMzQ4IDI4MAogICAgQzM1NCAyMzAsMzQ4IDE4NSwzNTIgMTM4CiAgICBaIiBmaWxsPSJ1cmwoI2czKSIvPgogIDxwYXRoIGQ9IgogICAgTTM0NCAxMzgKICAgIEMzNDggMTg1LDM0MiAyMzAsMzQ4IDI4MAogICAgQzM1NCAzMjUsMzQ0IDM2MCwzNTAgMzk1CiAgICBMMzc4IDM5NQogICAgQzM4NCAzNjAsMzc0IDMzMCwzODAgMjgwCiAgICBDMzg2IDIzMCwzODAgMTg1LDM4NCAxMzgKICAgIFoiIGZpbGw9InVybCgjZzMpIiBvcGFjaXR5PSIuODgiLz4KICA8cGF0aCBkPSIKICAgIE0zNzYgMTM4CiAgICBDMzgwIDE4NSwzNzQgMjM1LDM4MCAyODAKICAgIEMzODYgMzMwLDM3NiAzNjAsMzgyIDM5NQogICAgTDQwMiAzOTUKICAgIEM0MDggMzYwLDM5OCAzMzAsNDA0IDI4MAogICAgQzQxMCAyMzAsNDA0IDE4MCw0MDAgMTM4CiAgICBaIiBmaWxsPSJ1cmwoI2czKSIgb3BhY2l0eT0iLjc2Ii8+CiAgPCEtLSBGb2xkIGhpZ2hsaWdodHMgLS0+CiAgPHBhdGggZD0iTTMzMCAxNTUgQzMzMiAyMjAsMzM2IDMwMCwzMjkgMzkwIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIG9wYWNpdHk9Ii40IiBmaWxsPSJub25lIi8+CiAgPHBhdGggZD0iTTM2MiAxNTUgQzM2NCAyMjAsMzY4IDMwMCwzNjEgMzkwIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjEuNSIgb3BhY2l0eT0iLjMiIGZpbGw9Im5vbmUiLz4KICA8cGF0aCBkPSJNMzkwIDE1NSBDMzkyIDIyNSwzOTQgMzAwLDM4OSAzOTAiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMS41IiBvcGFjaXR5PSIuMjUiIGZpbGw9Im5vbmUiLz4KCiAgPCEtLSBDZW50ZXIgd2luZG93IGxpZ2h0IC0tPgogIDxyZWN0IHg9IjIxMCIgeT0iMTU1IiB3aWR0aD0iOTIiIGhlaWdodD0iMTQwIiByeD0iNiIgZmlsbD0id2hpdGUiIG9wYWNpdHk9Ii4xMiIvPgogIDxsaW5lIHgxPSIyNTYiIHkxPSIxNTgiIHgyPSIyNTYiIHkyPSIyOTIiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMS41IiBvcGFjaXR5PSIuMTIiLz4KICA8bGluZSB4MT0iMjEzIiB5MT0iMjI1IiB4Mj0iMjk5IiB5Mj0iMjI1IiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjEuNSIgb3BhY2l0eT0iLjEyIi8+CgogIDwhLS0gU3RhciAvIHNwYXJrbGUgYWNjZW50IC0tPgogIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1NiwyMTUpIiBvcGFjaXR5PSIuNyI+CiAgICA8cGF0aCBkPSJNMCwtMTYgTDMsLTMgTDE2LDAgTDMsMyBMMCwxNiBMLTMsMyBMLTE2LDAgTC0zLC0zIFoiIGZpbGw9IndoaXRlIi8+CiAgPC9nPgogIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIzNiwxODUpIHNjYWxlKC41KSIgb3BhY2l0eT0iLjQiPgogICAgPHBhdGggZD0iTTAsLTE2IEwzLC0zIEwxNiwwIEwzLDMgTDAsMTYgTC0zLDMgTC0xNiwwIEwtMywtMyBaIiBmaWxsPSJ3aGl0ZSIvPgogIDwvZz4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNzgsMjUwKSBzY2FsZSguNCkiIG9wYWNpdHk9Ii4zNSI+CiAgICA8cGF0aCBkPSJNMCwtMTYgTDMsLTMgTDE2LDAgTDMsMyBMMCwxNiBMLTMsMyBMLTE2LDAgTC0zLC0zIFoiIGZpbGw9IndoaXRlIi8+CiAgPC9nPgo8L3N2Zz4K";
const LOGO_FAVICON = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NCA2NCI+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImciIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjN0M2QkYwIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzUyNDFDQyIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iciIgeDE9IjAiIHkxPSIwIiB4Mj0iMSIgeTI9IjAiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjRjREMDNGIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjRkZFQUE3Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI0Y0RDAzRiIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICA8L2RlZnM+CiAgPHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiByeD0iMTUiIGZpbGw9InVybCgjZykiLz4KICA8Y2lyY2xlIGN4PSIxOCIgY3k9IjE2IiByPSIyMCIgZmlsbD0iIzhCN0NGNyIgb3BhY2l0eT0iLjI1Ii8+CiAgPCEtLSBSYWlsIC0tPgogIDxyZWN0IHg9IjEzIiB5PSIxNiIgd2lkdGg9IjM4IiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSJ1cmwoI3IpIi8+CiAgPGNpcmNsZSBjeD0iMTMiIGN5PSIxNyIgcj0iMi41IiBmaWxsPSIjRjREMDNGIi8+CiAgPGNpcmNsZSBjeD0iNTEiIGN5PSIxNyIgcj0iMi41IiBmaWxsPSIjRjREMDNGIi8+CiAgPCEtLSBMZWZ0IC0tPgogIDxwYXRoIGQ9Ik0xNSAxOCBDMTQgMjYsMTMgMzQsMTUgNDIgQzE2IDQ2LDE1IDQ5LDE2IDUyIEwyOCA1MiBDMjkgNDksMjggNDIsMjkgMzQgQzMwIDI2LDI5IDIyLDMwIDE4IFoiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9Ii44OCIvPgogIDxwYXRoIGQ9Ik0yMiAyMCBDMjEuNSAzMCwyMSA0MCwyMi41IDUwIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjEiIG9wYWNpdHk9Ii40IiBmaWxsPSJub25lIi8+CiAgPCEtLSBSaWdodCAtLT4KICA8cGF0aCBkPSJNMzQgMTggQzM1IDIyLDM0IDI2LDM1IDM0IEMzNiA0MiwzNSA0OSwzNiA1MiBMNDggNTIgQzQ5IDQ5LDQ4IDQ2LDQ5IDQyIEM1MSAzNCw1MCAyNiw0OSAxOCBaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIuNyIvPgogIDxwYXRoIGQ9Ik00MiAyMCBDNDIuNSAzMCw0MyA0MCw0MS41IDUwIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjEiIG9wYWNpdHk9Ii4zIiBmaWxsPSJub25lIi8+CiAgPCEtLSBTcGFya2xlIC0tPgogIDxwYXRoIGQ9Ik0zMiAzMCBMMzMgMzMgTDM2IDM0IEwzMyAzNSBMMzIgMzggTDMxIDM1IEwyOCAzNCBMMzEgMzMgWiIgZmlsbD0id2hpdGUiIG9wYWNpdHk9Ii42Ii8+Cjwvc3ZnPgo=";
const LOGO_HORIZ = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgMTAwIiBmaWxsPSJub25lIj4KICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iYmciIHgxPSIwIiB5MT0iMCIgeDI9IjEiIHkyPSIxIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzZDNUNFNyIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiM0ODM0RDQiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9InJvZCIgeDE9IjAiIHkxPSIwIiB4Mj0iMSIgeTI9IjAiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjRkZENzAwIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjRkZGNENDIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI0ZGRDcwMCIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICA8L2RlZnM+CiAgCiAgPCEtLSBJY29uIHNxdWFyZSAtLT4KICA8cmVjdCB4PSI4IiB5PSI4IiB3aWR0aD0iODQiIGhlaWdodD0iODQiIHJ4PSIyMCIgZmlsbD0idXJsKCNiZykiLz4KICA8cmVjdCB4PSIyMiIgeT0iMjYiIHdpZHRoPSI1NiIgaGVpZ2h0PSIzIiByeD0iMS41IiBmaWxsPSJ1cmwoI3JvZCkiLz4KICA8Y2lyY2xlIGN4PSIyMiIgY3k9IjI3LjUiIHI9IjMuNSIgZmlsbD0iI0ZGRDcwMCIvPgogIDxjaXJjbGUgY3g9Ijc4IiBjeT0iMjcuNSIgcj0iMy41IiBmaWxsPSIjRkZENzAwIi8+CiAgPHBhdGggZD0iTTI1IDI5IEMyNSAyOSwyMyA0OCwyNyA2NCBDMjggNjgsMjYgNzIsMjcgNzUgTDQyIDc1IEM0NCA2MCw0MiA0NSw0NSAyOSBaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIwLjkiLz4KICA8cGF0aCBkPSJNNTUgMjkgQzU4IDQ1LDU2IDYwLDU4IDc1IEw3MyA3NSBDNzQgNzIsNzIgNjgsNzMgNjQgQzc3IDQ4LDc1IDI5LDc1IDI5IFoiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuNzgiLz4KICA8cmVjdCB4PSI0NCIgeT0iMzMiIHdpZHRoPSIxMiIgaGVpZ2h0PSIyMCIgcng9IjEuNSIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC4xNSIvPgogIAogIDwhLS0gVGV4dCAtLT4KICA8dGV4dCB4PSIxMTAiIHk9IjQ4IiBmb250LWZhbWlseT0ic3lzdGVtLXVpLC1hcHBsZS1zeXN0ZW0sc2Fucy1zZXJpZiIgZm9udC1zaXplPSIzMCIgZm9udC13ZWlnaHQ9IjgwMCIgZmlsbD0iIzFBMUQyRSIgbGV0dGVyLXNwYWNpbmc9Ii0wLjUiPkN1cnRhaW48L3RleHQ+CiAgPHRleHQgeD0iMjUzIiB5PSI0OCIgZm9udC1mYW1pbHk9InN5c3RlbS11aSwtYXBwbGUtc3lzdGVtLHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMzAiIGZvbnQtd2VpZ2h0PSI4MDAiIGZpbGw9IiM2QzVDRTciIGxldHRlci1zcGFjaW5nPSItMC41Ij5BY2FkZW15PC90ZXh0PgogIDx0ZXh0IHg9IjExMCIgeT0iNzIiIGZvbnQtZmFtaWx5PSJzeXN0ZW0tdWksLWFwcGxlLXN5c3RlbSxzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iNTAwIiBmaWxsPSIjOTQ5OEFDIiBsZXR0ZXItc3BhY2luZz0iMC41Ij5TYWxlcyBUcmFpbmluZyBQbGF0Zm9ybTwvdGV4dD4KPC9zdmc+Cg==";

// === Cloud Persistent Storage ===
// Uses window.storage API for cloud-based persistence
// shared=true means ALL users see the same data (courses, users)
// shared=false means per-user data (progress, scores)

async function cloudGet(key, fallback, shared) {
  try {
    const r = await window.storage.get(key, shared);
    return r && r.value ? JSON.parse(r.value) : fallback;
  } catch(e) { return fallback; }
}

async function cloudSet(key, val, shared) {
  try {
    await window.storage.set(key, JSON.stringify(val), shared);
  } catch(e) { console.log('storage write error', e); }
}

// Keep lsGet/lsSet as sync fallback for initial render
function lsGet(key, fallback) { return fallback; }
function lsSet(key, val) {}

function App() {
  const [user, setUser] = useState(null);
  const [page, setPage] = useState("dashboard");
  const [selLvl, setSelLvl] = useState(null);
  const [selLes, setSelLes] = useState(null);
  const [qz, setQz] = useState(false);
  const [prog, setProg] = useState({});
  const [scores, setScores] = useState({});
  const [courses, setCourses] = useState(LEVELS_DATA);
  const [users, setUsers] = useState(USERS_DATA);
  const [resources, setResources] = useState(RES_DEFAULT);
  const [loaded, setLoaded] = useState(false);
  const [saving, setSaving] = useState(false);

  useEffect(() => { const s=document.createElement("style"); s.textContent=CSS; document.head.appendChild(s); return ()=>document.head.removeChild(s); }, []);
  useEffect(() => { let l=document.querySelector("link[rel='icon']"); if(!l){l=document.createElement('link');l.rel='icon';document.head.appendChild(l)} l.href=LOGO_FAVICON; }, []);

  // Load from cloud on mount
  useEffect(() => {
    let cancelled = false;
    async function load() {
      try {
        const [c, u, p, s, r] = await Promise.all([
          cloudGet('courses', null, true),
          cloudGet('users', null, true),
          cloudGet('prog', null, false),
          cloudGet('scores', null, false),
          cloudGet('resources', null, true),
        ]);
        if (cancelled) return;
        if (c) setCourses(c);
        if (u) setUsers(u);
        if (p) setProg(p);
        if (s) setScores(s);
        if (r) setResources(r);
      } catch(e) { console.log('load error', e); }
      if (!cancelled) setLoaded(true);
    }
    load();
    return () => { cancelled = true; };
  }, []);

  // Auto-save to cloud (debounced, skip initial load)
  useEffect(() => {
    if (!loaded) return;
    const t = setTimeout(() => { cloudSet('courses', courses, true); }, 500);
    return () => clearTimeout(t);
  }, [courses, loaded]);
  useEffect(() => {
    if (!loaded) return;
    const t = setTimeout(() => { cloudSet('users', users, true); }, 500);
    return () => clearTimeout(t);
  }, [users, loaded]);
  useEffect(() => {
    if (!loaded) return;
    const t = setTimeout(() => { cloudSet('prog', prog, false); }, 500);
    return () => clearTimeout(t);
  }, [prog, loaded]);
  useEffect(() => {
    if (!loaded) return;
    const t = setTimeout(() => { cloudSet('scores', scores, false); }, 500);
    return () => clearTimeout(t);
  }, [scores, loaded]);
  useEffect(() => {
    if (!loaded) return;
    const t = setTimeout(() => { cloudSet('resources', resources, true); }, 500);
    return () => clearTimeout(t);
  }, [resources, loaded]);

  const lp = useCallback((lv) => { if(!lv.lessons||!lv.lessons.length) return 0; const d=lv.lessons.filter(l=>prog[l.id]).length; return Math.round(d/lv.lessons.length*100); }, [prog]);
  const isUn = useCallback((lv) => { if(lv.id===1) return true; const p=courses.find(l=>l.id===lv.id-1); return p && lp(p)===100 && (scores[p.id]||0)>=70; }, [lp, scores, courses]);
  const uLvl = useCallback(() => { let h=0; for(const l of courses){ if(lp(l)===100 && (scores[l.id]||0)>=70) h=l.id; } return h; }, [lp, scores, courses]);
  const tScore = useMemo(() => { const v=Object.values(scores); return v.length ? Math.round(v.reduce((a,b)=>a+b,0)/v.length) : 0; }, [scores]);

  if (!loaded) return <div className="app" style={{display:'flex',alignItems:'center',justifyContent:'center',minHeight:'100vh',flexDirection:'column',gap:16}}>
    <img src={LOGO_ICON} alt="Logo" style={{width:72,height:72,borderRadius:16}}/>
    <div style={{fontFamily:'Outfit',fontSize:22,fontWeight:700}}>Curtain<span style={{color:'var(--ac)'}}>Academy</span></div>
    <div style={{color:'var(--tx2)',fontSize:14}}>à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥...</div>
    <div style={{width:120,height:4,background:'var(--sf2)',borderRadius:2,overflow:'hidden'}}><div style={{width:'60%',height:'100%',background:'var(--ac)',borderRadius:2,animation:'loading 1.5s infinite'}}></div></div>
  </div>;

  if (!user) return <Login onLogin={setUser}/>;

  const nav = [{id:'dashboard',ic:'ðŸ“Š',lb:'Dashboard'},{id:'courses',ic:'ðŸ“š',lb:'à¸«à¸¥à¸±à¸à¸ªà¸¹à¸•à¸£'},{dv:true},{id:'calculator',ic:'ðŸ§®',lb:'à¸„à¸³à¸™à¸§à¸“à¸£à¸²à¸„à¸²'},{id:'scripts',ic:'ðŸ’¬',lb:'Script Library'},{id:'resources',ic:'ðŸ“',lb:'Resources'}];
  const goP = (p) => { setPage(p); setSelLvl(null); setSelLes(null); setQz(false); };

  return (
    <div className="app"><div className="layout">
      <aside className="sb">
        <div className="sb-logo" style={{display:'flex',alignItems:'center',gap:10}}><img src={LOGO_ICON} alt="Logo" style={{width:36,height:36,borderRadius:8}}/><span>Curtain<span>Academy</span></span></div>
        <nav className="sb-nav">{nav.map((n,i) => n.dv ? <div key={i} className="ndv"/> : <div key={n.id} className={`ni ${page===n.id?'on':''}`} onClick={()=>goP(n.id)}><span className="ic">{n.ic}</span>{n.lb}</div>)}</nav>
        <div className="su"><span className="av">{user.avatar}</span><div style={{flex:1}}><div className="nm">{user.name}</div><span className="rb" style={{background:rbg(user.role),color:rcl(user.role)}}>{user.role}</span></div><button className="lob" onClick={()=>{setUser(null);setPage('dashboard')}}>â»</button></div>
      </aside>
      <div className="mn">
        <header className="mh"><h1 className="mt">{({dashboard:'Dashboard',courses:'à¸«à¸¥à¸±à¸à¸ªà¸¹à¸•à¸£',calculator:'à¸„à¸³à¸™à¸§à¸“à¸£à¸²à¸„à¸²',scripts:'Script Library',resources:'Resources'})[page]}</h1>{user.role!=='admin'&&<span className="badge b-pu">Level {uLvl()}</span>}</header>
        <div className="mc">
          {page==='dashboard'&&user.role!=='admin'&&user.role!=='manager'&&<TDB prog={prog} scores={scores} lp={lp} uLvl={uLvl} tScore={tScore} courses={courses} onGo={l=>{setSelLvl(l);setPage('courses')}}/>}
          {page==='dashboard'&&user.role==='manager'&&<MDB/>}
          {page==='dashboard'&&user.role==='admin'&&<ADB courses={courses} setCourses={setCourses} users={users} setUsers={setUsers}/>}
          {page==='courses'&&!selLvl&&<CLvls lp={lp} isUn={isUn} scores={scores} onSel={setSelLvl} courses={courses}/>}
          {page==='courses'&&selLvl&&!selLes&&!qz&&<LD level={selLvl} prog={prog} qs={scores[selLvl.id]} onBack={()=>setSelLvl(null)} onLes={setSelLes} onQz={()=>setQz(true)}/>}
          {page==='courses'&&selLvl&&selLes&&<LV les={selLes} lvl={selLvl} prog={prog} onDn={()=>setProg(p=>({...p,[selLes.id]:true}))} onBack={()=>setSelLes(null)} onNx={()=>{const i=selLvl.lessons.findIndex(l=>l.id===selLes.id);setProg(p=>({...p,[selLes.id]:true}));i<selLvl.lessons.length-1?setSelLes(selLvl.lessons[i+1]):setSelLes(null)}}/>}
          {page==='courses'&&selLvl&&qz&&<QV level={selLvl} onFin={s=>{setScores(sc=>({...sc,[selLvl.id]:s}));setQz(false)}} onBack={()=>setQz(false)}/>}
          {page==='calculator'&&<Calc isM={user.role==='manager'||user.role==='admin'}/>}
          {page==='scripts'&&<Scr/>}
          {page==='resources'&&<Res resources={resources} setResources={setResources} isAdmin={user.role==='admin'}/>}
        </div>
      </div>
    </div></div>
  );
}

function Login({onLogin}) {
  const [e,sE]=useState("");const [p,sP]=useState("");const [er,sEr]=useState("");const [demoUsers,sDU]=useState(USERS_DATA);
  useEffect(()=>{cloudGet('users',USERS_DATA,true).then(u=>{if(u)sDU(u)});},[]);
  const go=()=>{const u=demoUsers.find(u=>u.email===e&&u.pass===p);u?(onLogin(u),sEr("")):sEr("à¸­à¸µà¹€à¸¡à¸¥à¸«à¸£à¸·à¸­à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡")};
  return <div className="app"><div className="lp"><div className="ll"><div className="lf">
    <div className="logo" style={{display:'flex',alignItems:'center',gap:12}}><img src={LOGO_ICON} alt="Logo" style={{width:44,height:44,borderRadius:10}}/>Curtain<span>Academy</span></div><div className="lsub">à¸£à¸°à¸šà¸šà¸­à¸šà¸£à¸¡à¸à¹ˆà¸²à¸¢à¸‚à¸²à¸¢à¸œà¹‰à¸²à¸¡à¹ˆà¸²à¸™ â€” à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š</div>
    <div className="fg"><label>à¸­à¸µà¹€à¸¡à¸¥</label><input value={e} onChange={x=>sE(x.target.value)} placeholder="email@demo.com" onKeyDown={x=>x.key==='Enter'&&go()}/></div>
    <div className="fg"><label>à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™</label><input type="password" value={p} onChange={x=>sP(x.target.value)} placeholder="â€¢â€¢â€¢â€¢" onKeyDown={x=>x.key==='Enter'&&go()}/></div>
    <button className="lbtn" onClick={go}>à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š</button>{er&&<div className="lerr">{er}</div>}
    <div className="da"><h4>ðŸ”‘ à¸šà¸±à¸à¸Šà¸µà¸—à¸”à¸¥à¸­à¸‡ (à¸„à¸¥à¸´à¸)</h4>{demoUsers.map(u=><div key={u.id} className="dr" onClick={()=>{sE(u.email);sP(u.pass)}}><span>{u.avatar} {u.name}</span><span>{u.email}</span></div>)}</div>
  </div></div><div className="lr"><div className="lh"><img src={LOGO_ICON} alt="Logo" style={{width:100,height:100,borderRadius:24,marginBottom:16,boxShadow:'0 8px 32px rgba(0,0,0,.3)'}}/><h2>Curtain Sales Academy</h2><p>à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰à¸—à¸¸à¸à¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸£à¸·à¹ˆà¸­à¸‡à¸œà¹‰à¸²à¸¡à¹ˆà¸²à¸™ à¸•à¸±à¹‰à¸‡à¹à¸•à¹ˆà¸¨à¸¹à¸™à¸¢à¹Œà¸ˆà¸™à¸‚à¸²à¸¢à¹„à¸”à¹‰</p></div></div></div></div>;
}

function TDB({prog,lp,uLvl,tScore,onGo,courses}) {
  const cl=Object.keys(prog).length;const tl=courses.reduce((a,l)=>a+l.lessons.length,0);
  return <><div className="cg">
    <div className="card sc"><div className="si">ðŸ“Š</div><div className="sv">{Math.round(cl/tl*100)}%</div><div className="sl">à¸„à¸§à¸²à¸¡à¸„à¸·à¸šà¸«à¸™à¹‰à¸²</div></div>
    <div className="card sc"><div className="si">â­</div><div className="sv">{tScore}</div><div className="sl">à¸„à¸°à¹à¸™à¸™ Quiz</div></div>
    <div className="card sc"><div className="si">ðŸ†</div><div className="sv">Lv.{uLvl()}</div><div className="sl">Level</div></div>
    <div className="card sc"><div className="si">ðŸ“š</div><div className="sv">{cl}/{tl}</div><div className="sl">à¸šà¸—à¹€à¸£à¸µà¸¢à¸™à¸ˆà¸š</div></div>
  </div>
  <h3 style={{fontSize:16,fontWeight:700,marginBottom:14}}>ðŸ“Œ à¹€à¸£à¸´à¹ˆà¸¡à¹€à¸£à¸µà¸¢à¸™</h3>
  {courses.slice(0,3).map(l=>{const p=lp(l);return <div key={l.id} className="lc" onClick={()=>onGo(l)}><div className="li" style={{background:l.color+'15'}}>{l.icon}</div><div className="linf"><h3>Level {l.id}: {l.title}</h3><p>{p>0?p+'%':'à¹€à¸£à¸´à¹ˆà¸¡à¹€à¸£à¸µà¸¢à¸™'}</p><div className="lpb"><div className="lpf" style={{width:p+'%',background:l.color}}/></div></div><button className="btn bp bs">{p>0?'à¹€à¸£à¸µà¸¢à¸™à¸•à¹ˆà¸­ â†’':'à¹€à¸£à¸´à¹ˆà¸¡ â†’'}</button></div>})}</>;
}

function MDB() {
  return <><div className="cg">
    <div className="card sc"><div className="si">ðŸ‘¥</div><div className="sv">3</div><div className="sl">à¸ªà¸¡à¸²à¸Šà¸´à¸</div></div>
    <div className="card sc"><div className="si">ðŸ“Š</div><div className="sv">65%</div><div className="sl">à¸„à¸°à¹à¸™à¸™à¹€à¸‰à¸¥à¸µà¹ˆà¸¢</div></div>
    <div className="card sc"><div className="si">ðŸ’°</div><div className="sv">à¸¿850K</div><div className="sl">à¸¢à¸­à¸”à¸‚à¸²à¸¢/à¹€à¸”à¸·à¸­à¸™</div></div>
  </div>
  <div className="card" style={{marginBottom:24}}><h3 style={{fontSize:16,fontWeight:700,marginBottom:16}}>ðŸ“‹ à¸—à¸µà¸¡</h3>
    <table className="tt"><thead><tr><th>à¸Šà¸·à¹ˆà¸­</th><th>Level</th><th>à¸„à¸°à¹à¸™à¸™</th><th>à¸¢à¸­à¸”à¸‚à¸²à¸¢</th><th>à¸ªà¸–à¸²à¸™à¸°</th></tr></thead><tbody>
    <tr><td>ðŸ§‘â€ðŸ’¼ à¸ªà¸¡à¸Šà¸²à¸¢</td><td>Lv.1</td><td>45</td><td>à¸¿120K</td><td><span className="badge b-or">à¸à¸³à¸¥à¸±à¸‡à¹€à¸£à¸µà¸¢à¸™</span></td></tr>
    <tr><td>ðŸ‘©â€ðŸ’¼ à¸§à¸´à¸ à¸²</td><td>Lv.3</td><td>82</td><td>à¸¿380K</td><td><span className="badge b-gn">à¸œà¹ˆà¸²à¸™ L3</span></td></tr>
    <tr><td>ðŸ‘¨â€ðŸ’¼ à¸›à¸´à¸¢à¸°</td><td>Lv.4</td><td>91</td><td>à¸¿450K</td><td><span className="badge b-pu">Top Sales</span></td></tr>
    </tbody></table></div>
  <div className="card"><h3 style={{fontSize:16,fontWeight:700,marginBottom:16}}>ðŸ… Ranking</h3>
    {[{n:"à¸›à¸´à¸¢à¸°",s:"à¸¿450K"},{n:"à¸§à¸´à¸ à¸²",s:"à¸¿380K"},{n:"à¸ªà¸¡à¸Šà¸²à¸¢",s:"à¸¿120K"}].map((p,i)=><div key={i} style={{display:'flex',alignItems:'center',gap:14,padding:'12px 0',borderBottom:'1px solid var(--bd)'}}><span style={{fontSize:24,width:40,textAlign:'center'}}>{['ðŸ¥‡','ðŸ¥ˆ','ðŸ¥‰'][i]}</span><span style={{flex:1,fontWeight:600}}>{p.n}</span><span style={{fontFamily:'Outfit',fontWeight:700,color:'var(--ac2)'}}>{p.s}</span></div>)}</div></>;
}

function ADB({courses,setCourses,users,setUsers}) {
  const [tab,sT]=useState("stats");
  const [modal,sM]=useState(null); // {type:'addCourse'|'editCourse'|'addUser'|'editUser', data?:...}
  const [toast,sToast]=useState(null);

  const showToast=(msg)=>{sToast(msg);setTimeout(()=>sToast(null),2500)};
  const totalLessons=courses.reduce((a,c)=>a+c.lessons.length,0);
  const totalQuiz=courses.reduce((a,c)=>a+c.quiz.length,0);

  // Course CRUD
  const saveCourse=(form)=>{
    if(modal.type==='addCourse'){
      const newId=Math.max(...courses.map(c=>c.id),0)+1;
      const nc={id:newId,title:form.title,subtitle:form.subtitle,icon:form.icon||'ðŸ“˜',color:form.color||'#6C5CE7',lessons:form.lessons||[],quiz:form.quiz||[]};
      setCourses([...courses,nc]);
      showToast('âœ… à¹€à¸žà¸´à¹ˆà¸¡à¸„à¸­à¸£à¹Œà¸ªà¸ªà¸³à¹€à¸£à¹‡à¸ˆ!');
    } else {
      setCourses(courses.map(c=>c.id===modal.data.id?{...c,title:form.title,subtitle:form.subtitle,icon:form.icon,color:form.color,lessons:form.lessons||c.lessons,quiz:form.quiz||c.quiz}:c));
      showToast('âœ… à¸šà¸±à¸™à¸—à¸¶à¸à¸ªà¸³à¹€à¸£à¹‡à¸ˆ!');
    }
    sM(null);
  };
  const deleteCourse=(id)=>{if(confirm('à¸¥à¸šà¸„à¸­à¸£à¹Œà¸ªà¸™à¸µà¹‰?')){setCourses(courses.filter(c=>c.id!==id));sM(null);showToast('ðŸ—‘ï¸ à¸¥à¸šà¸„à¸­à¸£à¹Œà¸ªà¹à¸¥à¹‰à¸§')}};

  // User CRUD
  const saveUser=(form)=>{
    if(modal.type==='addUser'){
      const newId=Math.max(...users.map(u=>u.id),0)+1;
      const av={trainee:'ðŸ§‘â€ðŸ’¼',sales:'ðŸ‘©â€ðŸ’¼',manager:'ðŸ‘¨â€ðŸ’»',admin:'âš™ï¸'}[form.role]||'ðŸ‘¤';
      const nu={id:newId,name:form.name,email:form.email,pass:form.pass||'1234',role:form.role,team:form.team||'à¸—à¸µà¸¡ A',avatar:av};
      setUsers([...users,nu]);
      showToast('âœ… à¹€à¸žà¸´à¹ˆà¸¡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸ªà¸³à¹€à¸£à¹‡à¸ˆ!');
    } else {
      setUsers(users.map(u=>u.id===modal.data.id?{...u,name:form.name,email:form.email,role:form.role,team:form.team}:u));
      showToast('âœ… à¹à¸à¹‰à¹„à¸‚à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸ªà¸³à¹€à¸£à¹‡à¸ˆ!');
    }
    sM(null);
  };
  const deleteUser=(id)=>{if(confirm('à¸¥à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸™à¸µà¹‰?')){setUsers(users.filter(u=>u.id!==id));sM(null);showToast('ðŸ—‘ï¸ à¸¥à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹à¸¥à¹‰à¸§')}};

  return <>
    <div className="tr">
      <button className={`tb ${tab==='stats'?'on':''}`} onClick={()=>sT('stats')}>ðŸ“Š à¸ªà¸–à¸´à¸•à¸´</button>
      <button className={`tb ${tab==='courses'?'on':''}`} onClick={()=>sT('courses')}>ðŸ“š à¸„à¸­à¸£à¹Œà¸ª</button>
      <button className={`tb ${tab==='users'?'on':''}`} onClick={()=>sT('users')}>ðŸ‘¥ à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰</button>
      <button className={`tb ${tab==='settings'?'on':''}`} onClick={()=>sT('settings')}>âš™ï¸ à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²</button>
    </div>

    {tab==='stats'&&<>
      <div className="asr">
        <div className="as"><div className="v" style={{color:'var(--ac2)'}}>{users.length}</div><div className="l">à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰</div></div>
        <div className="as"><div className="v" style={{color:'var(--gn)'}}>{courses.length}</div><div className="l">à¸„à¸­à¸£à¹Œà¸ª</div></div>
        <div className="as"><div className="v" style={{color:'var(--or)'}}>{totalLessons}</div><div className="l">à¸šà¸—à¹€à¸£à¸µà¸¢à¸™</div></div>
        <div className="as"><div className="v" style={{color:'var(--pk)'}}>{totalQuiz}</div><div className="l">Quiz</div></div>
      </div>
      <div className="card"><h3 style={{fontSize:16,fontWeight:700,marginBottom:16}}>ðŸ“ˆ à¸ªà¸–à¸´à¸•à¸´à¹€à¸‚à¹‰à¸²à¹€à¸£à¸µà¸¢à¸™ (7 à¸§à¸±à¸™)</h3>
        <div style={{display:'flex',alignItems:'flex-end',gap:8,height:120}}>
          {[40,65,55,80,70,90,45].map((v,i)=><div key={i} style={{flex:1,display:'flex',flexDirection:'column',alignItems:'center',gap:4}}>
            <span style={{fontSize:11,color:'var(--tx3)'}}>{v}%</span>
            <div style={{width:'100%',height:v+'%',background:'linear-gradient(to top,var(--ac),var(--ac2))',borderRadius:4,minHeight:4}}/>
            <span style={{fontSize:10,color:'var(--tx3)'}}>{['à¸ˆ','à¸­','à¸ž','à¸žà¸¤','à¸¨','à¸ª','à¸­à¸²'][i]}</span>
          </div>)}
        </div>
      </div>
    </>}

    {tab==='courses'&&<div className="card">
      <div style={{display:'flex',justifyContent:'space-between',marginBottom:20}}>
        <h3 style={{fontSize:16,fontWeight:700}}>ðŸ“š à¸„à¸­à¸£à¹Œà¸ªà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” ({courses.length})</h3>
        <button className="btn bp bs" onClick={()=>sM({type:'addCourse'})}>+ à¹€à¸žà¸´à¹ˆà¸¡à¸„à¸­à¸£à¹Œà¸ª</button>
      </div>
      {courses.map(l=><div key={l.id} style={{display:'flex',alignItems:'center',gap:14,padding:'14px 0',borderBottom:'1px solid var(--bd)'}}>
        <span style={{fontSize:28}}>{l.icon}</span>
        <div style={{flex:1}}>
          <div style={{fontWeight:600}}>Level {l.id}: {l.title}</div>
          <div style={{fontSize:12,color:'var(--tx3)'}}>{l.lessons.length} à¸šà¸—à¹€à¸£à¸µà¸¢à¸™ Â· {l.quiz.length} Quiz</div>
        </div>
        <button className="btn bg bs" onClick={()=>sM({type:'editCourse',data:l})}>âœï¸ à¹à¸à¹‰à¹„à¸‚</button>
      </div>)}
      {courses.length===0&&<div style={{textAlign:'center',padding:40,color:'var(--tx3)'}}>à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸„à¸­à¸£à¹Œà¸ª à¸à¸” + à¹€à¸žà¸´à¹ˆà¸¡à¸„à¸­à¸£à¹Œà¸ª</div>}
    </div>}

    {tab==='users'&&<div className="card">
      <div style={{display:'flex',justifyContent:'space-between',marginBottom:20}}>
        <h3 style={{fontSize:16,fontWeight:700}}>ðŸ‘¥ à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” ({users.length})</h3>
        <button className="btn bp bs" onClick={()=>sM({type:'addUser'})}>+ à¹€à¸žà¸´à¹ˆà¸¡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰</button>
      </div>
      <table className="tt"><thead><tr><th>à¸Šà¸·à¹ˆà¸­</th><th>à¸­à¸µà¹€à¸¡à¸¥</th><th>à¸šà¸—à¸šà¸²à¸—</th><th>à¸—à¸µà¸¡</th><th>à¸ˆà¸±à¸”à¸à¸²à¸£</th></tr></thead>
      <tbody>{users.map(u=><tr key={u.id}>
        <td>{u.avatar} {u.name}</td>
        <td style={{color:'var(--tx3)'}}>{u.email}</td>
        <td><span className="badge" style={{background:rbg(u.role),color:rcl(u.role)}}>{u.role}</span></td>
        <td>{u.team}</td>
        <td><button className="btn bg bs" onClick={()=>sM({type:'editUser',data:u})}>âœï¸ à¹à¸à¹‰à¹„à¸‚</button></td>
      </tr>)}</tbody></table>
    </div>}

    {tab==='settings'&&<div className="card">
      <h3 style={{fontSize:16,fontWeight:700,marginBottom:16}}>âš™ï¸ à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸£à¸°à¸šà¸š</h3>
      <div style={{padding:16,background:'var(--sf2)',borderRadius:8,marginBottom:14}}>
        <div style={{fontSize:14,fontWeight:600,marginBottom:4}}>â˜ï¸ Cloud Storage â€” à¸šà¸±à¸™à¸—à¸¶à¸à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´</div>
        <div style={{fontSize:13,color:'var(--tx2)'}}>à¸—à¸¸à¸à¸à¸²à¸£à¹à¸à¹‰à¹„à¸‚à¸ˆà¸°à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¸¶à¹‰à¸™ Cloud Storage à¹‚à¸”à¸¢à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´ à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸„à¸‡à¸­à¸¢à¸¹à¹ˆà¸–à¸²à¸§à¸£ à¹€à¸›à¸´à¸”à¸ˆà¸²à¸à¸—à¸µà¹ˆà¹„à¸«à¸™à¸à¹‡à¹€à¸«à¹‡à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™ (à¸„à¸­à¸£à¹Œà¸ªà¹à¸¥à¸°à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ = à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸¥à¸²à¸‡, à¸„à¸§à¸²à¸¡à¸„à¸·à¸šà¸«à¸™à¹‰à¸² = à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§)</div>
      </div>
      <div style={{padding:16,border:'1px solid var(--rd)',borderRadius:8,background:'var(--rdbg)'}}>
        <div style={{fontSize:14,fontWeight:600,marginBottom:4,color:'var(--rd)'}}>ðŸ—‘ï¸ à¸£à¸µà¹€à¸‹à¹‡à¸•à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”</div>
        <div style={{fontSize:13,color:'var(--tx2)',marginBottom:12}}>à¸„à¸·à¸™à¸„à¹ˆà¸²à¸„à¸­à¸£à¹Œà¸ª à¸šà¸—à¹€à¸£à¸µà¸¢à¸™ Quiz à¹à¸¥à¸°à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸à¸¥à¸±à¸šà¹€à¸›à¹‡à¸™à¸„à¹ˆà¸²à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™ (à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¹à¸à¹‰à¹„à¸‚à¸ˆà¸°à¸«à¸²à¸¢à¸«à¸¡à¸”)</div>
        <button className="btn btn-danger bs" type="button" onClick={()=>{if(confirm('âš ï¸ à¸¢à¸·à¸™à¸¢à¸±à¸™à¸£à¸µà¹€à¸‹à¹‡à¸•à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”?\nà¸„à¸­à¸£à¹Œà¸ª à¸šà¸—à¹€à¸£à¸µà¸¢à¸™ Quiz à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ à¸ˆà¸°à¸à¸¥à¸±à¸šà¹€à¸›à¹‡à¸™à¸„à¹ˆà¸²à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™')){Promise.all([cloudSet('courses',LEVELS_DATA,true),cloudSet('users',USERS_DATA,true),cloudSet('prog',{},false),cloudSet('scores',{},false),cloudSet('resources',RES_DEFAULT,true)]).then(()=>{setCourses(LEVELS_DATA);setUsers(USERS_DATA);setResources(RES_DEFAULT);setProg({});setScores({});showToast('âœ… à¸£à¸µà¹€à¸‹à¹‡à¸•à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢')})}}}>ðŸ—‘ï¸ à¸£à¸µà¹€à¸‹à¹‡à¸•à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”</button>
      </div>
      <div style={{padding:16,border:'1px solid var(--bl)',borderRadius:8,background:'var(--blbg)',marginTop:14}}>
        <div style={{fontSize:14,fontWeight:600,marginBottom:4,color:'var(--bl)'}}>ðŸ“¤ Export à¸‚à¹‰à¸­à¸¡à¸¹à¸¥</div>
        <div style={{fontSize:13,color:'var(--tx2)',marginBottom:12}}>à¸”à¸²à¸§à¸™à¹Œà¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹€à¸›à¹‡à¸™à¹„à¸Ÿà¸¥à¹Œ JSON à¹€à¸žà¸·à¹ˆà¸­à¸ªà¸³à¸£à¸­à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥</div>
        <button className="btn bg bs" type="button" onClick={()=>{const d=JSON.stringify({courses,users,resources},null,2);const b=new Blob([d],{type:'application/json'});const u=URL.createObjectURL(b);const a=document.createElement('a');a.href=u;a.download='curtain-academy-backup.json';a.click();URL.revokeObjectURL(u);showToast('âœ… Export à¸ªà¸³à¹€à¸£à¹‡à¸ˆ')}}>ðŸ“¤ Export JSON</button>
      </div>
      <div style={{padding:16,border:'1px solid var(--gn)',borderRadius:8,background:'var(--gnbg)',marginTop:14}}>
        <div style={{fontSize:14,fontWeight:600,marginBottom:4,color:'var(--gn)'}}>ðŸ“¥ Import à¸‚à¹‰à¸­à¸¡à¸¹à¸¥</div>
        <div style={{fontSize:13,color:'var(--tx2)',marginBottom:12}}>à¸™à¸³à¹€à¸‚à¹‰à¸²à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸²à¸à¹„à¸Ÿà¸¥à¹Œ JSON à¸—à¸µà¹ˆ Export à¹„à¸§à¹‰</div>
        <input type="file" accept=".json" style={{fontSize:13}} onChange={e=>{const f=e.target.files[0];if(!f)return;const r=new FileReader();r.onload=ev=>{try{const d=JSON.parse(ev.target.result);if(d.courses){setCourses(d.courses);showToast('âœ… Import à¸„à¸­à¸£à¹Œà¸ªà¸ªà¸³à¹€à¸£à¹‡à¸ˆ ('+d.courses.length+' à¸„à¸­à¸£à¹Œà¸ª)')}if(d.users){setUsers(d.users)}if(d.resources){setResources(d.resources)}}catch(err){alert('à¹„à¸Ÿà¸¥à¹Œ JSON à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡')}};r.readAsText(f)}}/>
      </div>
    </div>}

    {/* MODALS */}
    {modal&&(modal.type==='addCourse'||modal.type==='editCourse')&&<CourseModal data={modal.type==='editCourse'?modal.data:null} onSave={saveCourse} onDelete={modal.type==='editCourse'?()=>deleteCourse(modal.data.id):null} onClose={()=>sM(null)}/>}
    {modal&&(modal.type==='addUser'||modal.type==='editUser')&&<UserModal data={modal.type==='editUser'?modal.data:null} onSave={saveUser} onDelete={modal.type==='editUser'?()=>deleteUser(modal.data.id):null} onClose={()=>sM(null)}/>}

    {toast&&<div className="toast">{toast}</div>}
  </>;
}

function CourseModal({data,onSave,onDelete,onClose}) {
  const [tab,sTab]=useState('info');
  const [title,sTitle]=useState(data?.title||'');
  const [subtitle,sSub]=useState(data?.subtitle||'');
  const [icon,sIcon]=useState(data?.icon||'ðŸ“˜');
  const [color,sColor]=useState(data?.color||'#6C5CE7');
  const [lessons,sLessons]=useState(data?.lessons?JSON.parse(JSON.stringify(data.lessons)):[]);
  const [quiz,sQuiz]=useState(data?.quiz?JSON.parse(JSON.stringify(data.quiz)):[]);
  const [editLes,sEditLes]=useState(null);
  const [editQuiz,sEditQuiz]=useState(null);

  const icons=['ðŸ“˜','ðŸŒ±','ðŸ”','ðŸ”§','ðŸŽ¯','ðŸš€','ðŸ’Ž','ðŸ“','ðŸŽ¨','ðŸ’¡','ðŸ†','â­'];
  const colors=['#4CAF50','#2196F3','#FF9800','#9C27B0','#E91E63','#6C5CE7','#00BCD4','#FF5722'];

  // Lesson CRUD
  const addLesson=()=>{const id=Date.now().toString();sLessons([...lessons,{id,title:'à¸šà¸—à¹€à¸£à¸µà¸¢à¸™à¹ƒà¸«à¸¡à¹ˆ',content:'',media:[]}]);sEditLes(lessons.length)};
  const updateLesson=(i,field,val)=>{const n=[...lessons];n[i]={...n[i],[field]:val};sLessons(n)};
  const removeLesson=(i)=>{if(confirm('à¸¥à¸šà¸šà¸—à¹€à¸£à¸µà¸¢à¸™à¸™à¸µà¹‰?')){sLessons(lessons.filter((_,j)=>j!==i));if(editLes===i)sEditLes(null);else if(editLes>i)sEditLes(editLes-1)}};
  const moveLesson=(i,dir)=>{if(i+dir<0||i+dir>=lessons.length)return;const n=[...lessons];[n[i],n[i+dir]]=[n[i+dir],n[i]];sLessons(n);if(editLes===i)sEditLes(i+dir)};

  // Quiz CRUD
  const addQuiz=()=>{sQuiz([...quiz,{q:'à¸„à¸³à¸–à¸²à¸¡à¹ƒà¸«à¸¡à¹ˆ',opts:['à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸ A','à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸ B','à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸ C','à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸ D'],ans:0}]);sEditQuiz(quiz.length)};
  const updateQuiz=(i,field,val)=>{const n=[...quiz];n[i]={...n[i],[field]:val};sQuiz(n)};
  const updateQuizOpt=(qi,oi,val)=>{const n=[...quiz];n[qi]={...n[qi],opts:[...n[qi].opts]};n[qi].opts[oi]=val;sQuiz(n)};
  const removeQuiz=(i)=>{if(confirm('à¸¥à¸šà¸‚à¹‰à¸­à¸™à¸µà¹‰?')){sQuiz(quiz.filter((_,j)=>j!==i));if(editQuiz===i)sEditQuiz(null);else if(editQuiz>i)sEditQuiz(editQuiz-1)}};
  const addQuizOpt=(qi)=>{const n=[...quiz];n[qi]={...n[qi],opts:[...n[qi].opts,'à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸à¹ƒà¸«à¸¡à¹ˆ']};sQuiz(n)};
  const removeQuizOpt=(qi,oi)=>{if(quiz[qi].opts.length<=2)return alert('à¸•à¹‰à¸­à¸‡à¸¡à¸µà¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 2 à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸');const n=[...quiz];n[qi]={...n[qi],opts:n[qi].opts.filter((_,j)=>j!==oi)};if(n[qi].ans>=n[qi].opts.length)n[qi].ans=0;sQuiz(n)};

  const handleSave=()=>{if(!title.trim())return alert('à¸à¸£à¸¸à¸“à¸²à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­à¸„à¸­à¸£à¹Œà¸ª');onSave({title,subtitle,icon,color,lessons,quiz})};

  return <div className="modal-overlay" onClick={onClose}><div className="modal" style={{maxWidth:720,maxHeight:'90vh'}} onClick={e=>e.stopPropagation()}>
    <h2 style={{marginBottom:16}}>{data?<>{icon} à¹à¸à¹‰à¹„à¸‚: {title||data.title}</>:'âž• à¹€à¸žà¸´à¹ˆà¸¡à¸„à¸­à¸£à¹Œà¸ªà¹ƒà¸«à¸¡à¹ˆ'}</h2>

    <div className="tr" style={{marginBottom:20}}>
      <button className={`tb ${tab==='info'?'on':''}`} onClick={()=>{sTab('info');sEditLes(null);sEditQuiz(null)}}>ðŸ“‹ à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸±à¹ˆà¸§à¹„à¸›</button>
      <button className={`tb ${tab==='lessons'?'on':''}`} onClick={()=>{sTab('lessons');sEditQuiz(null)}}>ðŸ“– à¸šà¸—à¹€à¸£à¸µà¸¢à¸™ ({lessons.length})</button>
      <button className={`tb ${tab==='quiz'?'on':''}`} onClick={()=>{sTab('quiz');sEditLes(null)}}>ðŸ“ Quiz ({quiz.length})</button>
    </div>

    {/* INFO TAB */}
    {tab==='info'&&<>
      <div className="mfg"><label>à¸Šà¸·à¹ˆà¸­à¸„à¸­à¸£à¹Œà¸ª</label><input value={title} onChange={e=>sTitle(e.target.value)} placeholder="à¹€à¸Šà¹ˆà¸™ à¸žà¸·à¹‰à¸™à¸à¸²à¸™à¸œà¹‰à¸²à¸¡à¹ˆà¸²à¸™"/></div>
      <div className="mfg"><label>à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢à¸¢à¹ˆà¸­</label><input value={subtitle} onChange={e=>sSub(e.target.value)} placeholder="à¹€à¸Šà¹ˆà¸™ Foundation"/></div>
      <div className="mfg"><label>à¹„à¸­à¸„à¸­à¸™</label><div style={{display:'flex',gap:6,flexWrap:'wrap'}}>{icons.map(ic=><button key={ic} type="button" onClick={()=>sIcon(ic)} style={{fontSize:24,padding:'6px 10px',borderRadius:8,border:icon===ic?'2px solid var(--ac)':'2px solid var(--bd)',background:icon===ic?'var(--acbg)':'var(--sf2)',cursor:'pointer'}}>{ic}</button>)}</div></div>
      <div className="mfg"><label>à¸ªà¸µ</label><div style={{display:'flex',gap:6}}>{colors.map(c=><button key={c} type="button" onClick={()=>sColor(c)} style={{width:32,height:32,borderRadius:8,background:c,border:color===c?'3px solid #fff':'3px solid transparent',cursor:'pointer',boxShadow:color===c?'0 0 0 2px var(--ac)':'none'}}/>)}</div></div>
    </>}

    {/* LESSONS TAB */}
    {tab==='lessons'&&<>
      <div style={{display:'flex',justifyContent:'space-between',marginBottom:14}}>
        <span style={{fontSize:13,color:'var(--tx2)'}}>à¸ˆà¸±à¸”à¸à¸²à¸£à¸šà¸—à¹€à¸£à¸µà¸¢à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸‚à¸­à¸‡à¸„à¸­à¸£à¹Œà¸ªà¸™à¸µà¹‰</span>
        <button className="btn bp bs" type="button" onClick={addLesson}>+ à¹€à¸žà¸´à¹ˆà¸¡à¸šà¸—à¹€à¸£à¸µà¸¢à¸™</button>
      </div>
      {lessons.length===0&&<div style={{textAlign:'center',padding:30,color:'var(--tx3)',fontSize:14}}>à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸šà¸—à¹€à¸£à¸µà¸¢à¸™ à¸à¸” + à¹€à¸žà¸´à¹ˆà¸¡à¸šà¸—à¹€à¸£à¸µà¸¢à¸™</div>}
      {lessons.map((les,i)=><div key={les.id||i} style={{marginBottom:10}}>
        <div style={{display:'flex',alignItems:'center',gap:8,padding:'10px 14px',background:editLes===i?'var(--acbg)':'var(--sf2)',border:editLes===i?'1px solid var(--ac)':'1px solid var(--bd)',borderRadius:8,cursor:'pointer'}} onClick={()=>sEditLes(editLes===i?null:i)}>
          <span style={{fontSize:13,color:'var(--tx3)',width:24,textAlign:'center'}}>{i+1}</span>
          <span style={{flex:1,fontSize:14,fontWeight:600}}>{les.title}</span>
          <button type="button" onClick={e=>{e.stopPropagation();moveLesson(i,-1)}} style={{background:'none',border:'none',color:'var(--tx3)',cursor:'pointer',fontSize:14}} title="à¸‚à¸¶à¹‰à¸™">â–²</button>
          <button type="button" onClick={e=>{e.stopPropagation();moveLesson(i,1)}} style={{background:'none',border:'none',color:'var(--tx3)',cursor:'pointer',fontSize:14}} title="à¸¥à¸‡">â–¼</button>
          <button type="button" onClick={e=>{e.stopPropagation();removeLesson(i)}} style={{background:'none',border:'none',color:'var(--rd)',cursor:'pointer',fontSize:14}} title="à¸¥à¸š">âœ•</button>
        </div>
        {editLes===i&&<div style={{padding:16,background:'var(--sf2)',borderRadius:'0 0 8px 8px',borderTop:'none',border:'1px solid var(--bd)',borderTop:0}}>
          <div className="mfg"><label>à¸Šà¸·à¹ˆà¸­à¸šà¸—à¹€à¸£à¸µà¸¢à¸™</label><input value={les.title} onChange={e=>updateLesson(i,'title',e.target.value)}/></div>
          <div className="mfg"><label>à¹€à¸™à¸·à¹‰à¸­à¸«à¸²à¸šà¸—à¹€à¸£à¸µà¸¢à¸™</label><textarea value={les.content} onChange={e=>updateLesson(i,'content',e.target.value)} style={{minHeight:180,fontFamily:'var(--f)',lineHeight:1.7}} placeholder="à¸žà¸´à¸¡à¸žà¹Œà¹€à¸™à¸·à¹‰à¸­à¸«à¸²à¸—à¸µà¹ˆà¸™à¸µà¹ˆ..."/></div>

          <div className="mfg"><label>ðŸ“· à¸£à¸¹à¸›à¸ à¸²à¸ž / à¸§à¸´à¸”à¸µà¹‚à¸­</label>
            {(les.media||[]).map((m,mi)=><div key={mi} className="media-editor">
              <div className="me-head">
                <span style={{fontSize:13,fontWeight:600,color:'var(--tx2)'}}>à¸ªà¸·à¹ˆà¸­ #{mi+1}</span>
                <div className="me-type">
                  <button type="button" className={m.type==='image'?'on':''} onClick={()=>{const nm=[...(les.media||[])];nm[mi]={...nm[mi],type:'image'};updateLesson(i,'media',nm)}}>ðŸ–¼ï¸ à¸£à¸¹à¸›</button>
                  <button type="button" className={m.type==='youtube'?'on':''} onClick={()=>{const nm=[...(les.media||[])];nm[mi]={...nm[mi],type:'youtube'};updateLesson(i,'media',nm)}}>â–¶ï¸ YouTube</button>
                </div>
                <div style={{flex:1}}/>
                <button type="button" onClick={()=>{const nm=(les.media||[]).filter((_,j)=>j!==mi);updateLesson(i,'media',nm)}} style={{background:'none',border:'none',color:'var(--rd)',cursor:'pointer',fontSize:13}}>âœ• à¸¥à¸š</button>
              </div>
              <input value={m.url||''} onChange={e=>{const nm=[...(les.media||[])];nm[mi]={...nm[mi],url:e.target.value};updateLesson(i,'media',nm)}} placeholder={m.type==='youtube'?'à¸§à¸²à¸‡ YouTube URL à¹€à¸Šà¹ˆà¸™ https://www.youtube.com/watch?v=...':'à¸§à¸²à¸‡ URL à¸£à¸¹à¸›à¸ à¸²à¸ž à¹€à¸Šà¹ˆà¸™ https://...'} style={{width:'100%',padding:'8px 12px',background:'var(--sf)',border:'1px solid var(--bd)',borderRadius:6,color:'var(--tx)',fontFamily:'var(--f)',fontSize:13,marginBottom:6}}/>
              <input value={m.caption||''} onChange={e=>{const nm=[...(les.media||[])];nm[mi]={...nm[mi],caption:e.target.value};updateLesson(i,'media',nm)}} placeholder="à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢ (à¹„à¸¡à¹ˆà¸šà¸±à¸‡à¸„à¸±à¸š)" style={{width:'100%',padding:'8px 12px',background:'var(--sf)',border:'1px solid var(--bd)',borderRadius:6,color:'var(--tx)',fontFamily:'var(--f)',fontSize:12}}/>
              {m.type==='image'&&m.url&&<div style={{marginTop:8,borderRadius:6,overflow:'hidden',border:'1px solid var(--bd)'}}><img src={m.url} style={{maxWidth:'100%',maxHeight:150,objectFit:'contain',display:'block',background:'var(--sf)'}} onError={e=>{e.target.style.display='none'}}/></div>}
            </div>)}
            <button type="button" onClick={()=>{const nm=[...(les.media||[]),{type:'image',url:'',caption:''}];updateLesson(i,'media',nm)}} style={{width:'100%',padding:'10px',border:'1px dashed var(--bd)',borderRadius:8,background:'transparent',color:'var(--ac)',cursor:'pointer',fontSize:13,fontFamily:'var(--f)'}}>+ à¹€à¸žà¸´à¹ˆà¸¡à¸£à¸¹à¸›à¸ à¸²à¸ž / à¸§à¸´à¸”à¸µà¹‚à¸­</button>
          </div>
          <div style={{fontSize:11,color:'var(--tx3)'}}>ðŸ’¡ à¸£à¸­à¸‡à¸£à¸±à¸š URL à¸£à¸¹à¸›à¸ à¸²à¸ž (jpg, png, webp) à¹à¸¥à¸° YouTube link</div>
        </div>}
      </div>)}
    </>}

    {/* QUIZ TAB */}
    {tab==='quiz'&&<>
      <div style={{display:'flex',justifyContent:'space-between',marginBottom:14}}>
        <span style={{fontSize:13,color:'var(--tx2)'}}>à¸ˆà¸±à¸”à¸à¸²à¸£à¹à¸šà¸šà¸—à¸”à¸ªà¸­à¸š (à¸•à¹‰à¸­à¸‡à¹„à¸”à¹‰ 70% à¸ˆà¸¶à¸‡à¸œà¹ˆà¸²à¸™)</span>
        <button className="btn bp bs" type="button" onClick={addQuiz}>+ à¹€à¸žà¸´à¹ˆà¸¡à¸‚à¹‰à¸­</button>
      </div>
      {quiz.length===0&&<div style={{textAlign:'center',padding:30,color:'var(--tx3)',fontSize:14}}>à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µ Quiz à¸à¸” + à¹€à¸žà¸´à¹ˆà¸¡à¸‚à¹‰à¸­</div>}
      {quiz.map((q,qi)=><div key={qi} style={{marginBottom:10}}>
        <div style={{display:'flex',alignItems:'center',gap:8,padding:'10px 14px',background:editQuiz===qi?'var(--acbg)':'var(--sf2)',border:editQuiz===qi?'1px solid var(--ac)':'1px solid var(--bd)',borderRadius:8,cursor:'pointer'}} onClick={()=>sEditQuiz(editQuiz===qi?null:qi)}>
          <span style={{fontSize:13,color:'var(--tx3)',width:24}}>Q{qi+1}</span>
          <span style={{flex:1,fontSize:14,fontWeight:500}}>{q.q}</span>
          <span style={{fontSize:11,color:'var(--gn)',background:'var(--gnbg)',padding:'2px 8px',borderRadius:4}}>à¸•à¸­à¸š: {q.opts[q.ans]?.slice(0,15)}{q.opts[q.ans]?.length>15?'...':''}</span>
          <button type="button" onClick={e=>{e.stopPropagation();removeQuiz(qi)}} style={{background:'none',border:'none',color:'var(--rd)',cursor:'pointer',fontSize:14}} title="à¸¥à¸š">âœ•</button>
        </div>
        {editQuiz===qi&&<div style={{padding:16,background:'var(--sf2)',borderRadius:'0 0 8px 8px',border:'1px solid var(--bd)',borderTop:0}}>
          <div className="mfg"><label>à¸„à¸³à¸–à¸²à¸¡</label><input value={q.q} onChange={e=>updateQuiz(qi,'q',e.target.value)} placeholder="à¸žà¸´à¸¡à¸žà¹Œà¸„à¸³à¸–à¸²à¸¡"/></div>
          <div className="mfg"><label>à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸ (à¸„à¸¥à¸´à¸ âœ“ à¹€à¸žà¸·à¹ˆà¸­à¹€à¸¥à¸·à¸­à¸à¸„à¸³à¸•à¸­à¸šà¸—à¸µà¹ˆà¸–à¸¹à¸)</label>
            {q.opts.map((opt,oi)=><div key={oi} style={{display:'flex',gap:6,marginBottom:6,alignItems:'center'}}>
              <button type="button" onClick={()=>updateQuiz(qi,'ans',oi)} style={{width:28,height:28,borderRadius:'50%',border:q.ans===oi?'2px solid var(--gn)':'2px solid var(--bd)',background:q.ans===oi?'var(--gn)':'transparent',color:q.ans===oi?'#fff':'var(--tx3)',cursor:'pointer',fontSize:12,flexShrink:0,display:'flex',alignItems:'center',justifyContent:'center'}}>{q.ans===oi?'âœ“':oi+1}</button>
              <input value={opt} onChange={e=>updateQuizOpt(qi,oi,e.target.value)} style={{flex:1,padding:'8px 12px',background:'var(--sf)',border:'1px solid var(--bd)',borderRadius:6,color:'var(--tx)',fontFamily:'var(--f)',fontSize:13}}/>
              <button type="button" onClick={()=>removeQuizOpt(qi,oi)} style={{background:'none',border:'none',color:'var(--rd)',cursor:'pointer',fontSize:12,opacity:q.opts.length<=2?.3:1}} title="à¸¥à¸šà¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸">âœ•</button>
            </div>)}
            <button type="button" onClick={()=>addQuizOpt(qi)} style={{fontSize:12,color:'var(--ac2)',background:'none',border:'1px dashed var(--bd)',borderRadius:6,padding:'6px 12px',cursor:'pointer',width:'100%',marginTop:4}}>+ à¹€à¸žà¸´à¹ˆà¸¡à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸</button>
          </div>
        </div>}
      </div>)}
    </>}

    <div className="modal-actions">
      {onDelete&&<button className="btn btn-danger bs" type="button" onClick={onDelete}>ðŸ—‘ï¸ à¸¥à¸šà¸„à¸­à¸£à¹Œà¸ª</button>}
      <div style={{flex:1}}/>
      <button className="btn bg bs" type="button" onClick={onClose}>à¸¢à¸à¹€à¸¥à¸´à¸</button>
      <button className="btn bp bs" type="button" onClick={handleSave}>ðŸ’¾ à¸šà¸±à¸™à¸—à¸¶à¸à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”</button>
    </div>
  </div></div>;
}

function UserModal({data,onSave,onDelete,onClose}) {
  const [name,sName]=useState(data?.name||'');
  const [email,sEmail]=useState(data?.email||'');
  const [pass,sPass]=useState('');
  const [role,sRole]=useState(data?.role||'trainee');
  const [team,sTeam]=useState(data?.team||'à¸—à¸µà¸¡ A');
  return <div className="modal-overlay" onClick={onClose}><div className="modal" onClick={e=>e.stopPropagation()}>
    <h2>{data?'âœï¸ à¹à¸à¹‰à¹„à¸‚à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰':'âž• à¹€à¸žà¸´à¹ˆà¸¡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸«à¸¡à¹ˆ'}</h2>
    <div className="mfr">
      <div className="mfg"><label>à¸Šà¸·à¹ˆà¸­-à¸™à¸²à¸¡à¸ªà¸à¸¸à¸¥</label><input value={name} onChange={e=>sName(e.target.value)} placeholder="à¸Šà¸·à¹ˆà¸­ à¸™à¸²à¸¡à¸ªà¸à¸¸à¸¥"/></div>
      <div className="mfg"><label>à¸­à¸µà¹€à¸¡à¸¥</label><input type="email" value={email} onChange={e=>sEmail(e.target.value)} placeholder="email@company.com"/></div>
    </div>
    <div className="mfr">
      <div className="mfg"><label>à¸šà¸—à¸šà¸²à¸—</label><select value={role} onChange={e=>sRole(e.target.value)}><option value="trainee">Trainee</option><option value="sales">Sales</option><option value="manager">Manager</option><option value="admin">Admin</option></select></div>
      <div className="mfg"><label>à¸—à¸µà¸¡</label><select value={team} onChange={e=>sTeam(e.target.value)}><option>à¸—à¸µà¸¡ A</option><option>à¸—à¸µà¸¡ B</option><option>à¸—à¸µà¸¡ C</option></select></div>
    </div>
    {!data&&<div className="mfg"><label>à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™</label><input type="password" value={pass} onChange={e=>sPass(e.target.value)} placeholder="à¸•à¸±à¹‰à¸‡à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™ (à¸„à¹ˆà¸²à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™: 1234)"/></div>}
    <div className="modal-actions">
      {onDelete&&<button className="btn btn-danger bs" onClick={onDelete}>ðŸ—‘ï¸ à¸¥à¸š</button>}
      <div style={{flex:1}}/>
      <button className="btn bg bs" onClick={onClose}>à¸¢à¸à¹€à¸¥à¸´à¸</button>
      <button className="btn bp bs" onClick={()=>{if(!name.trim()||!email.trim())return alert('à¸à¸£à¸¸à¸“à¸²à¸à¸£à¸­à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸«à¹‰à¸„à¸£à¸š');onSave({name,email,pass:pass||'1234',role,team})}}>{data?'ðŸ’¾ à¸šà¸±à¸™à¸—à¸¶à¸':'âž• à¹€à¸žà¸´à¹ˆà¸¡'}</button>
    </div>
  </div></div>;
}

function CLvls({lp,isUn,scores,onSel,courses}) {
  return <div>{courses.map(l=>{const p=lp(l);const u=isUn(l);const ps=p===100&&(scores[l.id]||0)>=70;return <div key={l.id} className={`lc ${!u?'lk':''}`} onClick={()=>u&&onSel(l)}><div className="li" style={{background:l.color+'15'}}>{l.icon}</div><div className="linf"><h3>Level {l.id}: {l.title}</h3><p>{l.subtitle} Â· {l.lessons.length} à¸šà¸—à¹€à¸£à¸µà¸¢à¸™</p><div className="lpb"><div className="lpf" style={{width:p+'%',background:l.color}}/></div></div>{!u&&<span className="lbd" style={{background:'var(--sf3)',color:'var(--tx3)'}}>ðŸ”’</span>}{u&&ps&&<span className="lbd" style={{background:'var(--gnbg)',color:'var(--gn)'}}>âœ… à¸œà¹ˆà¸²à¸™</span>}{u&&!ps&&<span className="lbd" style={{background:l.color+'20',color:l.color}}>{p>0?p+'%':'à¹€à¸£à¸´à¹ˆà¸¡ â†’'}</span>}</div>})}</div>;
}

function LD({level,prog,qs,onBack,onLes,onQz}) {
  const ad=level.lessons.every(l=>prog[l.id]);
  return <div><button className="btn bg bs" onClick={onBack} style={{marginBottom:20}}>â† à¸à¸¥à¸±à¸š</button>
  <div className="card" style={{marginBottom:20,display:'flex',alignItems:'center',gap:20}}><div style={{fontSize:48}}>{level.icon}</div><div><h2 style={{fontFamily:'Outfit',fontSize:22,fontWeight:700}}>Level {level.id}: {level.title}</h2><p style={{color:'var(--tx2)',fontSize:14}}>{level.subtitle} Â· {level.lessons.length} à¸šà¸—à¹€à¸£à¸µà¸¢à¸™</p>{qs!=null&&<span className={`badge ${qs>=70?'b-gn':'b-rd'}`} style={{marginTop:6}}>Quiz: {qs}% {qs>=70?'âœ…':'âŒ'}</span>}</div></div>
  <h3 style={{fontSize:16,fontWeight:700,marginBottom:14}}>ðŸ“– à¸šà¸—à¹€à¸£à¸µà¸¢à¸™</h3>
  {level.lessons.map((l,i)=><div key={l.id} className={`lli ${prog[l.id]?'dn':''}`} onClick={()=>onLes(l)}><div className="lck">{prog[l.id]?'âœ“':i+1}</div><div style={{flex:1,fontSize:14,fontWeight:500}}>{l.title}</div>{prog[l.id]&&<span className="badge b-gn">à¹€à¸£à¸µà¸¢à¸™à¹à¸¥à¹‰à¸§</span>}</div>)}
  {ad&&<div style={{marginTop:20}}><button className="btn bp" onClick={onQz}>ðŸ“ à¸—à¸³ Quiz ({level.quiz.length} à¸‚à¹‰à¸­)</button>{qs!=null&&qs<70&&<p style={{color:'var(--rd)',fontSize:13,marginTop:8}}>âš ï¸ à¸•à¹‰à¸­à¸‡à¹„à¸”à¹‰ 70% à¸—à¸³à¹ƒà¸«à¸¡à¹ˆ</p>}</div>}
  {!ad&&<p style={{color:'var(--tx3)',fontSize:13,marginTop:16}}>ðŸ“Œ à¹€à¸£à¸µà¸¢à¸™à¸„à¸£à¸šà¸à¹ˆà¸­à¸™à¸—à¸³ Quiz</p>}</div>;
}

function LV({les,lvl,prog,onDn,onBack,onNx}) {
  const getYTid=(url)=>{if(!url)return null;const m=url.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&?\s]+)/);return m?m[1]:null};
  return <div><button className="btn bg bs" onClick={onBack} style={{marginBottom:20}}>â† à¸à¸¥à¸±à¸š</button>
  <div className="cv"><span className="badge b-pu" style={{marginBottom:8}}>{lvl.icon} Level {lvl.id}</span><h2>{les.title}</h2>

  {(les.media||[]).map((m,i)=><div key={i} className="media-block">
    {m.type==='image'&&m.url&&<img src={m.url} alt={m.caption||les.title}/>}
    {m.type==='youtube'&&m.url&&<div className="vid-wrap"><iframe src={`https://www.youtube.com/embed/${getYTid(m.url)||''}`} allow="accelerometer;autoplay;clipboard-write;encrypted-media;gyroscope;picture-in-picture" allowFullScreen/></div>}
    {m.caption&&<div className="caption">{m.caption}</div>}
  </div>)}

  <div className="cb">{les.content.split('\n').map((l,i)=>l.trim()===''?<br key={i}/>:<div key={i} style={{marginBottom:2}}>{l}</div>)}</div>
  <div className="cn">{!prog[les.id]&&<button className="btn bgn" onClick={onDn}>âœ“ à¸ˆà¸šà¸šà¸—à¸™à¸µà¹‰</button>}<button className="btn bp" onClick={onNx}>à¸–à¸±à¸”à¹„à¸› â†’</button></div></div></div>;
}

function QV({level,onFin,onBack}) {
  const [idx,sI]=useState(0);const [ans,sA]=useState({});const [sel,sS]=useState(null);const [sub,sSub]=useState(false);const [fin,sF]=useState(false);
  const qz=level.quiz;const q=qz[idx];
  const submit=()=>{if(sel===null)return;sSub(true);sA(a=>({...a,[idx]:sel}))};
  const next=()=>{if(idx<qz.length-1){sI(idx+1);sS(null);sSub(false)}else sF(true)};

  if(fin){const c=qz.filter((q,i)=>ans[i]===q.ans).length;const sc=Math.round(c/qz.length*100);return <div className="qr card"><div style={{fontSize:60,marginBottom:12}}>{sc>=70?'ðŸŽ‰':'ðŸ˜”'}</div><div className={`scr ${sc>=70?'pass':'fail'}`}>{sc}%</div><p style={{color:'var(--tx2)',margin:'8px 0 20px'}}>à¸–à¸¹à¸ {c}/{qz.length} {sc>=70?'â€” à¸œà¹ˆà¸²à¸™!':'â€” à¸•à¹‰à¸­à¸‡à¹„à¸”à¹‰ 70%'}</p><div style={{display:'flex',gap:10,justifyContent:'center'}}><button className="btn bg" onClick={onBack}>â† à¸à¸¥à¸±à¸š</button><button className="btn bp" onClick={()=>onFin(sc)}>{sc>=70?'âœ… à¸šà¸±à¸™à¸—à¸¶à¸':'à¸›à¸´à¸”'}</button></div></div>}

  return <div><button className="btn bg bs" onClick={onBack} style={{marginBottom:20}}>â† à¸à¸¥à¸±à¸š</button>
  <div className="qc card"><div className="qp">{qz.map((_,i)=><div key={i} className={`qd ${i<idx?'dn':i===idx?'cur':''}`}/>)}</div>
  <div className="qqn">à¸‚à¹‰à¸­ {idx+1}/{qz.length}</div><div className="qq">{q.q}</div>
  {q.opts.map((o,i)=>{let c="qo";if(sub&&i===q.ans)c+=" ok";else if(sub&&i===sel&&i!==q.ans)c+=" no";else if(!sub&&i===sel)c+=" sel";return <button key={i} className={c} onClick={()=>!sub&&sS(i)}>{o}</button>})}
  <div style={{display:'flex',gap:10,marginTop:16}}>{!sub&&<button className="btn bp" onClick={submit}>à¸•à¸£à¸§à¸ˆà¸„à¸³à¸•à¸­à¸š</button>}{sub&&<button className="btn bp" onClick={next}>{idx<qz.length-1?'à¸–à¸±à¸”à¹„à¸› â†’':'à¸”à¸¹à¸œà¸¥'}</button>}</div></div></div>;
}

function Calc({isM}) {
  const [w,sW]=useState(200);const [h,sH]=useState(240);const [f,sF]=useState(1);const [r,sR]=useState(0);const [fl,sFl]=useState(2);const [ly,sL]=useState(1);const [res,sRes]=useState(null);
  const calc=()=>{const wm=w/100;const hm=h/100;const fw=wm*fl;const fp=FABRIC_PRICES[f].price;const rp=RAIL_PRICES[r].price;const fc=Math.ceil(fw*hm)*fp;const sc=Math.ceil(fw/1.5)*350;const rc=Math.ceil(wm)*rp;let t=(fc+sc+rc)*ly;if(ly===2)t+=Math.ceil(wm*hm)*300;sRes({t,fc,sc,rc,mg:Math.round(t*.35),fw:fw.toFixed(1),hm:hm.toFixed(1)})};
  return <div className="clc"><div className="card" style={{marginBottom:20}}>
    <h3 style={{fontSize:18,fontWeight:700,marginBottom:20}}>ðŸ§® à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸„à¸³à¸™à¸§à¸“à¸£à¸²à¸„à¸²à¸¡à¹ˆà¸²à¸™</h3>
    <div className="clr"><div className="clf"><label>à¸à¸§à¹‰à¸²à¸‡ (à¸‹à¸¡.)</label><input type="number" value={w} onChange={e=>sW(+e.target.value)}/></div><div className="clf"><label>à¸ªà¸¹à¸‡ (à¸‹à¸¡.)</label><input type="number" value={h} onChange={e=>sH(+e.target.value)}/></div></div>
    <div className="clr"><div className="clf"><label>à¸œà¹‰à¸²</label><select value={f} onChange={e=>sF(+e.target.value)}>{FABRIC_PRICES.map((x,i)=><option key={i} value={i}>{x.name} ({x.price}à¸¿/à¸¡.)</option>)}</select></div><div className="clf"><label>à¸£à¸²à¸‡</label><select value={r} onChange={e=>sR(+e.target.value)}>{RAIL_PRICES.map((x,i)=><option key={i} value={i}>{x.name} ({x.price}à¸¿/à¸¡.)</option>)}</select></div></div>
    <div className="clr"><div className="clf"><label>Fullness</label><select value={fl} onChange={e=>sFl(+e.target.value)}><option value={2}>à¸ˆà¸µà¸š x2</option><option value={1.6}>à¸•à¸²à¹„à¸à¹ˆ x1.6</option><option value={1}>à¸¡à¹‰à¸§à¸™ x1</option><option value={2.2}>à¸¥à¸­à¸™ x2.2</option></select></div><div className="clf"><label>à¸Šà¸±à¹‰à¸™</label><select value={ly} onChange={e=>sL(+e.target.value)}><option value={1}>1 à¸Šà¸±à¹‰à¸™</option><option value={2}>2 à¸Šà¸±à¹‰à¸™</option></select></div></div>
    <button className="btn bp" style={{width:'100%',marginTop:8}} onClick={calc}>ðŸ§® à¸„à¸³à¸™à¸§à¸“</button>
  </div>
  {res&&<div className="clres"><div style={{fontSize:13,color:'var(--tx2)',marginBottom:4}}>à¸£à¸²à¸„à¸²à¸›à¸£à¸°à¸¡à¸²à¸“</div><div className="pr">à¸¿{res.t.toLocaleString()}</div><div className="dt">à¸œà¹‰à¸²: à¸¿{res.fc.toLocaleString()} ({res.fw}Ã—{res.hm} à¸¡.)<br/>à¹€à¸¢à¹‡à¸š: à¸¿{res.sc.toLocaleString()}<br/>à¸£à¸²à¸‡: à¸¿{res.rc.toLocaleString()}</div>{isM&&<div style={{marginTop:14,padding:'12px 16px',background:'var(--gnbg)',borderRadius:8,border:'1px solid var(--gn)'}}><span style={{fontSize:12,color:'var(--gn)',fontWeight:700}}>ðŸ’° à¸à¸³à¹„à¸£ (35%): à¸¿{res.mg.toLocaleString()}</span></div>}<div style={{fontSize:11,color:'var(--tx3)',marginTop:10}}>âš ï¸ à¸£à¸²à¸„à¸²à¸›à¸£à¸°à¸¡à¸²à¸“à¸à¸²à¸£</div></div>}</div>;
}

function Scr() {
  const [cp,sCp]=useState(null);
  return <div style={{maxWidth:800}}>{SCRIPTS_DATA.map((c,ci)=><div key={ci} className="scat"><h3>{['ðŸ’¬','â“','ðŸŽ¯','ðŸ“ž'][ci]} {c.cat}</h3>{c.items.map((it,ii)=>{const k=ci+'-'+ii;return <div key={k} className="si2"><h4>{it.title}</h4><p>{it.text}</p><button className="cpb" onClick={()=>{navigator.clipboard?.writeText(it.text);sCp(k);setTimeout(()=>sCp(null),2000)}}>{cp===k?'âœ… à¸„à¸±à¸”à¸¥à¸­à¸à¹à¸¥à¹‰à¸§':'ðŸ“‹ à¸„à¸±à¸”à¸¥à¸­à¸'}</button></div>})}</div>)}</div>;
}

function Res({resources,setResources,isAdmin}) {
  const [modal,sM]=useState(null);
  const [toast,sToast]=useState(null);
  const showToast=(msg)=>{sToast(msg);setTimeout(()=>sToast(null),2500)};
  const icons=['ðŸ“‚','ðŸ“¸','ðŸ“‹','ðŸ“','ðŸŽ¨','ðŸ“Š','ðŸ·ï¸','ðŸ“','ðŸ“','ðŸŽ¬','ðŸ”—','ðŸ“¦','ðŸ’¼','ðŸ“Œ'];
  const types=['PDF','XLSX','DOCX','ZIP','PNG','JPG','MP4','LINK','à¸­à¸·à¹ˆà¸™à¹†'];

  const saveRes=(form)=>{
    if(modal.mode==='add'){
      const newId=Math.max(...resources.map(r=>r.id),0)+1;
      setResources([...resources,{id:newId,...form}]);
      showToast('âœ… à¹€à¸žà¸´à¹ˆà¸¡à¹„à¸Ÿà¸¥à¹Œà¸ªà¸³à¹€à¸£à¹‡à¸ˆ');
    } else {
      setResources(resources.map(r=>r.id===modal.data.id?{...r,...form}:r));
      showToast('âœ… à¹à¸à¹‰à¹„à¸‚à¸ªà¸³à¹€à¸£à¹‡à¸ˆ');
    }
    sM(null);
  };
  const delRes=(id)=>{if(confirm('à¸¥à¸šà¹„à¸Ÿà¸¥à¹Œà¸™à¸µà¹‰?')){setResources(resources.filter(r=>r.id!==id));sM(null);showToast('ðŸ—‘ï¸ à¸¥à¸šà¹à¸¥à¹‰à¸§')}};

  return <div style={{maxWidth:800}}>
    <div className="card">
      <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:18}}>
        <h3 style={{fontSize:16,fontWeight:700}}>ðŸ“ Resource Center ({resources.length} à¹„à¸Ÿà¸¥à¹Œ)</h3>
        {isAdmin&&<button className="btn bp bs" onClick={()=>sM({mode:'add'})}>+ à¹€à¸žà¸´à¹ˆà¸¡à¹„à¸Ÿà¸¥à¹Œ</button>}
      </div>

      {!isAdmin&&<div style={{padding:12,background:'var(--acbg)',borderRadius:8,marginBottom:16,fontSize:13,color:'var(--ac2)'}}>
        ðŸ’¡ à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹€à¸žà¸´à¹ˆà¸¡/à¹à¸à¹‰à¹„à¸‚à¹„à¸Ÿà¸¥à¹Œ à¸à¸£à¸¸à¸“à¸²à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸šà¸”à¹‰à¸§à¸¢à¸šà¸±à¸à¸Šà¸µ Admin
      </div>}

      {resources.length===0&&<div style={{textAlign:'center',padding:40,color:'var(--tx3)'}}>à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¹„à¸Ÿà¸¥à¹Œ</div>}

      {resources.map((it,i)=><div key={it.id} style={{display:'flex',alignItems:'center',gap:14,padding:'14px 0',borderBottom:i<resources.length-1?'1px solid var(--bd)':'none'}}>
        <span style={{fontSize:28}}>{it.icon}</span>
        <div style={{flex:1}}>
          <div style={{fontWeight:600,fontSize:14}}>{it.name}</div>
          <div style={{fontSize:12,color:'var(--tx3)'}}>{it.type}{it.desc?' Â· '+it.desc:''}</div>
          {!it.url&&<div style={{fontSize:11,color:'var(--or)',marginTop:2}}>âš ï¸ à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸¥à¸´à¸‡à¸à¹Œ</div>}
        </div>
        <div style={{display:'flex',gap:6}}>
          {it.url&&<button className="btn bp bs" onClick={()=>window.open(it.url,'_blank')}>â¬‡ à¸”à¸²à¸§à¸™à¹Œà¹‚à¸«à¸¥à¸”</button>}
          {!it.url&&<button className="btn bg bs" disabled style={{opacity:.4}}>â¬‡ à¹„à¸¡à¹ˆà¸¡à¸µà¸¥à¸´à¸‡à¸à¹Œ</button>}
          {isAdmin&&<button className="btn bg bs" onClick={()=>sM({mode:'edit',data:it})}>âœï¸</button>}
        </div>
      </div>)}
    </div>

    {modal&&<ResModal data={modal.mode==='edit'?modal.data:null} icons={icons} types={types} onSave={saveRes} onDelete={modal.mode==='edit'?()=>delRes(modal.data.id):null} onClose={()=>sM(null)}/>}
    {toast&&<div className="toast">{toast}</div>}
  </div>;
}

function ResModal({data,icons,types,onSave,onDelete,onClose}) {
  const [name,sN]=useState(data?.name||'');
  const [icon,sI]=useState(data?.icon||'ðŸ“‚');
  const [type,sT]=useState(data?.type||'PDF');
  const [url,sU]=useState(data?.url||'');
  const [desc,sD]=useState(data?.desc||'');

  return <div className="modal-overlay" onClick={onClose}><div className="modal" onClick={e=>e.stopPropagation()}>
    <h2>{data?'âœï¸ à¹à¸à¹‰à¹„à¸‚à¹„à¸Ÿà¸¥à¹Œ':'âž• à¹€à¸žà¸´à¹ˆà¸¡à¹„à¸Ÿà¸¥à¹Œà¹ƒà¸«à¸¡à¹ˆ'}</h2>

    <div className="mfg"><label>à¸Šà¸·à¹ˆà¸­à¹„à¸Ÿà¸¥à¹Œ</label><input value={name} onChange={e=>sN(e.target.value)} placeholder="à¹€à¸Šà¹ˆà¸™ à¹à¸„à¸•à¸•à¸²à¸¥à¹‡à¸­à¸à¸œà¹‰à¸²à¸¡à¹ˆà¸²à¸™ 2026"/></div>

    <div className="mfg"><label>à¹„à¸­à¸„à¸­à¸™</label><div style={{display:'flex',gap:6,flexWrap:'wrap'}}>{icons.map(ic=><button key={ic} type="button" onClick={()=>sI(ic)} style={{fontSize:20,padding:'5px 8px',borderRadius:6,border:icon===ic?'2px solid var(--ac)':'2px solid var(--bd)',background:icon===ic?'var(--acbg)':'var(--sf2)',cursor:'pointer'}}>{ic}</button>)}</div></div>

    <div className="mfr">
      <div className="mfg"><label>à¸›à¸£à¸°à¹€à¸ à¸—à¹„à¸Ÿà¸¥à¹Œ</label><select value={type} onChange={e=>sT(e.target.value)}>{types.map(t=><option key={t} value={t}>{t}</option>)}</select></div>
      <div className="mfg"><label>à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢</label><input value={desc} onChange={e=>sD(e.target.value)} placeholder="à¸ªà¸±à¹‰à¸™à¹† à¹€à¸Šà¹ˆà¸™ à¸£à¸²à¸„à¸²à¸­à¸±à¸žà¹€à¸”à¸—à¸¥à¹ˆà¸²à¸ªà¸¸à¸”"/></div>
    </div>

    <div className="mfg">
      <label>ðŸ”— à¸¥à¸´à¸‡à¸à¹Œà¹„à¸Ÿà¸¥à¹Œ (Google Drive / Dropbox / URL)</label>
      <input value={url} onChange={e=>sU(e.target.value)} placeholder="https://drive.google.com/file/d/... à¸«à¸£à¸·à¸­ URL à¸­à¸·à¹ˆà¸™à¹†"/>
      <div style={{fontSize:11,color:'var(--tx3)',marginTop:6,lineHeight:1.6}}>
        ðŸ’¡ <b>à¸§à¸´à¸˜à¸µà¹„à¸”à¹‰à¸¥à¸´à¸‡à¸à¹Œ:</b><br/>
        â€¢ <b>Google Drive:</b> à¸„à¸¥à¸´à¸à¸‚à¸§à¸²à¸—à¸µà¹ˆà¹„à¸Ÿà¸¥à¹Œ â†’ à¸£à¸±à¸šà¸¥à¸´à¸‡à¸à¹Œ â†’ à¸„à¸±à¸”à¸¥à¸­à¸à¸¥à¸´à¸‡à¸à¹Œ<br/>
        â€¢ <b>Dropbox:</b> à¸„à¸¥à¸´à¸ Share â†’ Copy link<br/>
        â€¢ <b>à¸­à¸·à¹ˆà¸™à¹†:</b> à¸§à¸²à¸‡ URL à¸•à¸£à¸‡à¸—à¸µà¹ˆà¸”à¸²à¸§à¸™à¹Œà¹‚à¸«à¸¥à¸”à¹„à¸Ÿà¸¥à¹Œà¹„à¸”à¹‰
      </div>
    </div>

    {url&&<div style={{padding:10,background:'var(--gnbg)',borderRadius:8,fontSize:13,color:'var(--gn)',marginBottom:8}}>âœ… à¸¡à¸µà¸¥à¸´à¸‡à¸à¹Œà¹à¸¥à¹‰à¸§ â€” à¸žà¸™à¸±à¸à¸‡à¸²à¸™à¸ˆà¸°à¸à¸”à¸”à¸²à¸§à¸™à¹Œà¹‚à¸«à¸¥à¸”à¹„à¸”à¹‰</div>}

    <div className="modal-actions">
      {onDelete&&<button className="btn btn-danger bs" type="button" onClick={onDelete}>ðŸ—‘ï¸ à¸¥à¸š</button>}
      <div style={{flex:1}}/>
      <button className="btn bg bs" type="button" onClick={onClose}>à¸¢à¸à¹€à¸¥à¸´à¸</button>
      <button className="btn bp bs" type="button" onClick={()=>{if(!name.trim())return alert('à¸à¸£à¸¸à¸“à¸²à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­à¹„à¸Ÿà¸¥à¹Œ');onSave({name,icon,type,url,desc})}}>ðŸ’¾ à¸šà¸±à¸™à¸—à¸¶à¸</button>
    </div>
  </div></div>;
}

function rbg(r){return{trainee:'rgba(253,203,110,.15)',sales:'rgba(0,184,148,.15)',manager:'rgba(108,92,231,.15)',admin:'rgba(225,112,85,.15)'}[r]}
function rcl(r){return{trainee:'#FDCB6E',sales:'#00B894',manager:'#A29BFE',admin:'#E17055'}[r]}

ReactDOM.createRoot(document.getElementById('root')).render(<App />);
</script>
</body>
</html>